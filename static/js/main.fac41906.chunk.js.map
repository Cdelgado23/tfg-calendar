{"version":3,"sources":["reportWebVitals.js","context/RepositoryContext.js","components/NavBar/NavBarElements.js","components/NavBar/index.js","pages/PagesElements.js","components/Timetable/TimetableElements.js","components/Timetable/index.js","components/Subject/SubjectElements.js","components/Subject/index.js","components/SessionForm/SessionFormElements.js","components/SessionForm/index.js","pages/Horario/Horario.js","pages/Asignaturas.js","pages/Aulas.js","pages/Usuario.js","repository/prodData.js","repository/Repository.js","AppWrapper.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","RepositoryContext","React","createContext","Nav","styled","nav","NavLink","Link","SelectRouter","FaBars","select","NavMenu","div","NavBtn","NavBtnLinkGreen","NavBtnLinkYellow","Navbar","props","history","useHistory","useLocation","style","to","name","id","onChange","event","location","push","target","value","handleRouteChange","SpaceBetweenMenu","CentralMenu","LateralMenu","MenuHeader","MenuBody","Button","button","Footer","StyledLoader","LoadingOverlay","MyLoader","active","children","classNamePrefix","spinner","text","TimetableGrid","divisions","GridTimeElement","column","row","size","GridElement","color","GridLinesComponent","attrs","background","gridColumnStart","gridRowStart","gridColumnEnd","gridRowEnd","borderTop","GridDayElement","marginTop","marginBot","WeekDataBlock","WeekPicker","SelectedWeek","formatDate","d","month","getMonth","day","getDate","year","getFullYear","length","join","sessionToString","session","overflow","textOverflow","subjectName","groupName","placeSession","config","handleSessionClick","recurrent","sessionWeekData","getYearAndWeekNumberFromInputText","startFrom","weekToCheckData","selectedWeek","recurrencePeriod","sessionDate","Date","executionDate","console","log","setHours","n","found","week","forEach","getTime","sessionIsInWeek","startMinute","timeStart","mins_x_block","Math","ceil","draggable","onDragStart","ev","dataTransfer","setData","JSON","stringify","dragSession","onClick","uuidv4","split","populateGrid","params","sessions","populated","populateTimeColumn","startHour","hourSize","Array","from","keys","map","days","1","2","3","4","5","6","7","drawRowLines","dropFunction","divs","onDrop","onDragOver","preventDefault","getDateOfISOWeek","w","y","simple","dow","getDay","ISOweekStart","setDate","getWeekFromDay","current","i","getWeekNumberFromDay","date","oneJan","numberOfDays","floor","getNumberOfWeeksOfYear","isLeap","Timetable","todayDate","state","scheduleSize","drop","bind","handleWeekChange","getScheduleInformation","changeWeek","this","block_id","start","end","daySessions","filter","s","session1","session2","compareSessions","conflictSessions","schedulable","data","parse","getData","type","defaultData","defaultSessionValues","FormatGroupData","origin","endAt","room","teacher","generateSessionFromDrop","schedulableInformation","updateSession","createSession","splitted","setState","changeAmount","parseInt","lastWeek","currentWeek","context","required","Component","contextType","SubjectMain","SubjectTitle","ButtonCornersRadius","SubjectGroupsList","show","GroupElement","group","ListGroups","drag","Subject","subject","showGroups","handleSubjectTitleClick","groups","FlexForm","form","SessionInput","input","NotificationsButtonsContainer","FormButton","FormSubmit","showRooms","rooms","handleChange","listRooms","SessionForm","onChangeField","onChangeCheckbox","selectedSession","handleSubmit","updateStateFromSession","prevProps","Number","field","prevState","onSubmit","disabled","checked","Fragment","getAvalibleRooms","textAlign","conflictRooms","Set","r","has","Horario","loading","subjects","setLoading","setSessions","setSubjects","clickedSession","_loading","_sessions","_subjects","setLoadingCallback","loadSubjectsOfTeacher","loadSessionsOfTeacher","display","flexDirection","justifyContent","Asignaturas","alignItems","height","Aulas","Usuario","require","prodData","db","loadingCallback","callback","collection","where","get","querySnapshot","doc","update","add","docRef","catch","error","Repository","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","REACT_APP_FIREBASE_STORAGEBUCKET","messagingSenderId","appId","firebase","initializeApp","firestore","dataSource","getSessionsOfTeacher","getSubjectsOfTeacher","AppWrapper","Provider","hist","path","render","component","App","element","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fac41906.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nexport const RepositoryContext= React.createContext();\n","import { FaBars } from 'react-icons/fa';\nimport { NavLink as Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Nav = styled.nav`\n  background: #EFEFEF;\n  height: 10vh;\n  display: flex;\n  justify-content: space-between;\n  z-index: 10;\n`;\n\nexport const NavLink = styled(Link)`\n  color: #fff;\n  background: #F5AB00;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  margin:0 1vw 1vw 0;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #FFFFFF;\n  }\n`;\n\nexport const Bars = styled(FaBars)`\n  display: none;\n  color: #fff;\n  @media screen and (max-width: 1024px) {\n    display: block;\n    align-items: center;\n    display: flex;\n\n    font-size: 1.8rem;\n    cursor: pointer;\n    justify-self:center;\n  }\n`;\n\nexport const SelectRouter=styled.select`\ndisplay: none;\ncolor: #fff;\n@media screen and (max-width: 1024px) {\n  display: block;\n  align-items: center;\n  display: flex;\n\n  font-size: 1.8rem;\n  cursor: pointer;\n  justify-self:center;\n  background: #2DA283;\n}\n\n`;\n\nexport const NavMenu = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  @media screen and (max-width: 1024px) {\n    display: none;\n  }\n`;\n\nexport const NavBtn = styled.nav`\n  display: flex;\n  align-items: center;\n  margin: 0 1vw;\n  @media screen and (max-width: 1024px) {\n    display: none;\n  }\n`;\n\nexport const NavBtnLinkGreen = styled(Link)`\n  border-radius: 4px;\n  background: #2DA283;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #6cd1b6;\n    color: #010606;\n  }\n`;\n\nexport const NavBtnLinkYellow = styled(Link)`\n  border-radius: 4px;\n  background: #F5AB00;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #d69b1b;\n    color: #010606;\n  }\n`;","\nimport {\n  Nav,\n  NavLink,\n  NavMenu,\n  NavBtn,\n  NavBtnLinkGreen,\n  NavBtnLinkYellow,\n  SelectRouter\n} from './NavBarElements';\n\nimport React from 'react';\nimport { useHistory,useLocation } from \"react-router-dom\";\n\n\nfunction handleRouteChange(event, history, location) {\n  history.push(\"/\"+event.target.value);\n  location= event.target.value;\n}\n\nconst Navbar = (props) => {\n  let history = useHistory();\n  let location = useLocation();\n  return (\n    <>\n      <Nav>\n        <div style= {{\"justify-self\": \"flex-start\"}}>\n        <NavLink to='/'>\n          Universidad de Extremadura\n        </NavLink>\n        </div>\n\n          <SelectRouter name=\"rooms\" id=\"rooms\" onChange={event =>{handleRouteChange(event, history, location)}}>\n          <option value={\"Horario\"}>Horario</option>\n          <option value={\"Asignaturas\"}>Asignaturas</option>\n          <option value={\"Aulas\"}>Aulas</option>\n\n          </SelectRouter>\n\n        <NavMenu>\n          <NavBtn>\n            <NavBtnLinkYellow to='/Horario'>Horario</NavBtnLinkYellow>\n          </NavBtn>\n          <NavBtn>\n            <NavBtnLinkYellow to='/Asignaturas'>Asignaturas</NavBtnLinkYellow>\n          </NavBtn>\n          <NavBtn>\n            <NavBtnLinkYellow to='/Aulas'>Aulas</NavBtnLinkYellow>\n          </NavBtn>\n        </NavMenu>\n        <NavBtn>\n          <NavBtnLinkGreen to='/Usuario'>Profesor Apellido1 Apellido2</NavBtnLinkGreen>\n        </NavBtn>\n      </Nav>\n    </>\n  );\n};\n\nexport default Navbar;","import styled from 'styled-components';\nimport LoadingOverlay from 'react-loading-overlay';\n\nexport const SpaceBetweenMenu= styled.div`\ndisplay: flex;\nalign-items: flex-end;\njustify-content: space-around;\n\n@media screen and (max-width: 1024px) {\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nexport const CentralMenu = styled.div`\n  width: 70vw;\n  white-space: nowrap;\n  background:  #FFFFFF;\n\n  @media screen and (max-width: 1024px) {\n    width:100%;\n    order: -9999;\n  }\n`;\n\nexport const LateralMenu = styled.div`\n  display: flex;\n  flex-direction: column; \n  width: 15vw;\n  margin: 0 1vw;\n  white-space: nowrap;\n  align-items: strech;\n  justify-content: stretch; \n\n  @media screen and (max-width: 1024px) {\n    width:100%;\n    height:100%;\n    margin: 0 1%;\n  }\n`;\n\nexport const MenuHeader = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  background: #EFEFEF;\n  color: #00000;\n\n  margin: 0.5vh 0;\n  border-radius: 10px 10px 0 0;\n  justify-content: center;\n  padding: 5px 11px;\n`;\n\nexport const MenuBody = styled.div`\n  display: flex;\n  flex-direction: column; \n  align-items: stretch;\n  white-space: nowrap;\n  padding: 2% 1%;\n  height:70vh;\n  justify-content: flex-start;\n  background: #FFFFFF;\n  border-radius: 0 0 10px 10px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  width:100%;\n  border: 1px solid #EFEFEF;\n\n  @media screen and (max-width: 1024px) {\n    height:100%;\n  }\n`;\n\nexport const FullWidthMenu = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  padding: 10px 22px;\n  width: 100vw;\n  justify-content: center;\n  background: #EFEFEF;\n  margin: 2px;\n  @media screen and (max-width: 1024px) {\n    background: #FEFEFE;\n  }\n`;\n\nexport const Button = styled.button`\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border-radius: 3px;\n  outline: none;\n  border: none;\n  background: #2DA283;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #6cd1b6;\n    color: #010606;\n  }\n`;\n\nexport const Footer = styled.div`\n  margin-top: 4vh;\n  height: 6vh;\n  @media screen and (max-width: 1024px) {\n    display: none\n  }\n`;\n\nconst StyledLoader = styled(LoadingOverlay)`\n  height: 200%;\n\n`\n \nexport function MyLoader({ active, children }) {\n  return (\n    <StyledLoader\n      active={active}\n      classNamePrefix='MyLoader_'\n      spinner\n      text='Loading your content...'\n    >\n      {children}\n    </StyledLoader>\n  )\n}","import styled from 'styled-components';\n\n\nexport const TimetableGrid= styled.div`\n  display: grid;\n  grid-template-columns: 9% 13% 13% 13% 13% 13% 13% 13%;\n  \n  grid-template-rows: repeat(${props => props.divisions}, 1fr);\n  justify-items: center;\n\n  width: 100%;\n  height:70vh;\n  border: 1px solid #ccc;\n\n  white-space: nowrap;\n  justify-content: stretch; \n  overflow-y: scroll;\n  overflow-x: hidden;\n\n`;\n\n\n\nexport const GridTimeElement = styled.div`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + props.size};\n  justify-self: stretch;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #FFF;\n\n  min-height: 3rem;\n\n  border-top: 1px solid #EFEFEF;\n\n\n`;\n\n\nexport const GridElement = styled.button`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + (props.size || 1)};\n  background-color: ${props => props.color || \"#FFFFFF\"};\n  justify-self: stretch;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  outline: none;\n  border: none;\n  \n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    filter: brightness(85%);\n    color: #010606;\n  }\n  &:active {\n    background: #FFFFFF;\n  }\n\n`;\n\nexport const GridLinesComponent = styled.div.attrs(props => ({\n  style: {\n    background: props.background,\n    gridColumnStart: props.column,\n    gridRowStart: props.row,\n    gridColumnEnd: props.column +1,\n    gridRowEnd: props.row +1,\n    borderTop: props.row>1 && props.column>0 ? \"1px solid #EFEFEF\": \"\"\n  },\n}))\n`justify-self: stretch;\nmin-height: 1rem;\n${props => props.column>1 ? \"&:hover {transition: all 0.2s ease-in-out;background: #EFEFEF;color: #010606;}\":\"\"};\n`;\n\n\nexport const GridDayElement = styled.div`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + (props.size || 1)};\n  background-color: ${props => props.color || \"#FFFFFF\"};\n  justify-self: stretch;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center; \n\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  border-bottom: 1px solid #EFEFEF;\n\n\n  \n  margin-top:${props => props.marginTop}%;\n  margin-bottom:${props => props.marginBot}%;\n`;\n\n\nexport const WeekDataBlock= styled.div`\n  display: flex;\n  flex-direction: row; \n  justify-content: center;\n  align-items: center;\n  \n  width: 100%;\n  height: 5vh;\n`;\n\nexport const WeekPicker = styled.div`\n  margin-right: 5vw;\n  margin-left: auto;\n`;\nexport const SelectedWeek= styled.div`\n    \n  display: flex;\n  flex-direction: row; \n  justify-content: center;\n  align-items: center;\n  justify-self: center;\n  margin-right: 3%;\n`;","import React from 'react';\nimport {TimetableGrid, GridTimeElement, GridElement, GridDayElement, WeekDataBlock, WeekPicker, SelectedWeek, GridLinesComponent} from './TimetableElements';\nimport {RepositoryContext} from '../../context/RepositoryContext';\n\n\n\nimport {v4 as uuidv4} from 'uuid';\n\nfunction formatDate(d){\n  var month = '' + (d.getMonth() + 1);\n  var day = '' + d.getDate();\n  var year = d.getFullYear();\n\n  if (month.length < 2) \n    month = '0' + month;\n  if (day.length < 2) \n    day = '0' + day;\n\n  return [year, month, day].join('-');\n}\n\n\nfunction sessionToString(session){\n  return <p style={{overflow: \"hidden\",\n                   textOverflow: \"ellipsis\"}}>\n         {session.subjectName}<br/>\n         {session.groupName}<br/>\n         {\"\"+ session.length + \" mins\"}\n  </p>;\n}\n\nfunction dragSession(ev, session) {\n  ev.dataTransfer.setData(\"text\",JSON.stringify(session));\n}\n\nfunction sessionIsInWeek(session, config){\n\n  if (session.recurrent){\n    const sessionWeekData = getYearAndWeekNumberFromInputText(session.startFrom);\n    const weekToCheckData = getYearAndWeekNumberFromInputText(config.selectedWeek);\n    return sessionWeekData[0]=== weekToCheckData[0] && ((weekToCheckData[1] -sessionWeekData[1])%session.recurrencePeriod)===0;\n  }else{\n    const sessionDate = new Date(session.executionDate);\n    console.log(sessionDate);\n    sessionDate.setHours(0,0,0,0);\n    var n=1;\n    var found=false; \n    config.week.forEach(day =>{\n      if (sessionDate.getTime() === day.getTime())\n      {\n        session.day=n; \n\n        found= true;\n      }\n      n++;\n    });\n  }\n  return found;\n}\n\n\nfunction placeSession(session, config, handleSessionClick){\n    if (!sessionIsInWeek(session, config))\n    {\n      console.log(session);\n      return;\n    }\n\n    const row = (((session.startMinute - config.timeStart)/config.mins_x_block)>>0) + 1;\n\n    var column=session.day+1;\n\n    const rowEnd= Math.ceil(((session.startMinute+session.length -config.timeStart) /config.mins_x_block))+1;\n    const size = rowEnd-row;\n\n\n    return(<GridElement key={uuidv4()} draggable=\"true\" onDragStart={event=>dragSession(event, session)} row={row+1} column={column} color= {session.color} size={size}  onClick={() => { handleSessionClick(session) }}>{sessionToString(session)}</GridElement>\n        );\n}\n\n//get week number from string formatted like : YYYY-Wnn (2021-W01)\nfunction getYearAndWeekNumberFromInputText(text){\n  var splitted = text.split(\"-W\");\n  return splitted;\n}\n\n\nfunction populateGrid(params, sessions, handleSessionClick) {\n    const populated=[];\n    sessions.forEach(session => {\n        populated.push(placeSession(session, params, handleSessionClick));\n    });\n    return populated;\n}\n\nfunction populateTimeColumn(params){\n    const startHour= (params.timeStart/60)>>0 ;\n    const hourSize= Math.ceil(60/params.mins_x_block);\n    return Array.from(Array(params.divisions/hourSize).keys())\n    .map((n) =>\n    <GridTimeElement size={hourSize} row={n*hourSize+2} column={1}>{\"\"+ (startHour+ n ) + \":00\"}</GridTimeElement>\n  );\n}\n\nconst days={\n    1:\"Lunes\",\n    2:\"Martes\",\n    3:\"Miércoles\",\n    4:\"Jueves\",\n    5:\"Viernes\",\n    6:\"Sábado\",\n    7:\"Domingo\"\n};\n\nfunction populateDaysRow(currentWeek){\n    return Array.from(Array(7).keys())\n    .map((n) =>\n    <GridDayElement row={1} column={n+2}>{days[n+1]}<br/>{formatDate(currentWeek[n])}</GridDayElement>\n  );\n}\n\n\nfunction allowDrop(ev) {\n  ev.preventDefault();\n}\n\n\nfunction drawRowLines(params, dropFunction){\n\n   const divs = (params.divisions+1)*8;\n   \n\n    return Array.from(Array(divs).keys())\n    .map((n) =>\n    <GridLinesComponent row={((n/8)>>0) +1} column={n%8 +1} onDrop={event => dropFunction(event, n, params)} onDragOver={event =>allowDrop(event)}/>\n  );\n}\n\nfunction compareSessions(session1, session2){\n  return session1.id === session2.id;\n}\n\n\nfunction getDateOfISOWeek(w, y) {\n  var simple = new Date(y, 0, 1 + (w - 1) * 7);\n  var dow = simple.getDay();\n  var ISOweekStart = simple;\n  if (dow <= 4)\n      ISOweekStart.setDate(simple.getDate() - simple.getDay() + 1);\n  else\n      ISOweekStart.setDate(simple.getDate() + 8 - simple.getDay());\n  return ISOweekStart;\n}\n\nfunction getWeekFromDay(current){\n  var week=[];\n  current.setDate(current.getDate());\n  for (var i = 0; i < 7; i++) {\n    var d = new Date(current);\n    d.setHours(0,0,0,0);\n    week.push(\n        d\n    ); \n    current.setDate(current.getDate() +1);\n}\nreturn week;\n}\n\nfunction getWeekNumberFromDay(date){\n  \n  //find the year of the entered date  \n   var oneJan =  new Date(date.getFullYear(), 0, 1);   \n\n   // calculating number of days in given year before the given date   \n   var numberOfDays =  Math.floor((date - oneJan) / (24 * 60 * 60 * 1000));   \n\n   // adding 1 since to current date and returns value starting from 0   \n   var result = Math.ceil(( date.getDay()  + numberOfDays) / 7); \n   return result-1;\n}\n\nfunction getNumberOfWeeksOfYear(y) {\n  var d,\n      isLeap;\n\n  d = new Date(y, 0, 1);\n  isLeap = new Date(y, 1, 29).getMonth() === 1;\n\n  //check for a Jan 1 that's a Thursday or a leap year that has a \n  //Wednesday jan 1. Otherwise it's 52\n  return (d.getDay() === 4 || isLeap) && d.getDay() === 3 ? 53 : 52\n}\n\nfunction generateSessionFromDrop(data){\n\n  var session={\n    type: \"session\",\n    id: data.id,\n    origin: \"drag&drop - session\",\n    length: data.length,\n    color: data.color,\n    subjectName: data.subjectName,\n    groupName: data.groupName,\n    recurrent: data.recurrent, \n    endAt: data.endAt,\n    room: data.room,\n    teacher: data.teacher\n  };\n  return session;\n}\n\nfunction FormatGroupData(data){\n  var defaultData= data.defaultSessionValues;\n  defaultData[\"groupName\"]= data.groupName;\n  defaultData[\"subjectName\"] = data.subjectName;\n  defaultData[\"type\"] = \"group\";\n  return defaultData;\n}\n\nexport default class Timetable extends React.Component {\n  static contextType = RepositoryContext;\n    constructor(props) {\n        super(props);\n\n        var todayDate= new Date();\n\n        this.state = {mins_x_block: props.mins_x_block,\n                      divisions: props.scheduleSize/props.mins_x_block,\n                      timeStart: props.timeStart,\n                      selectedWeek: \"\"+todayDate.getFullYear()+\"-W\"+getWeekNumberFromDay(todayDate),\n                      week: getWeekFromDay(getDateOfISOWeek(getWeekNumberFromDay(todayDate),todayDate.getFullYear()))\n                      };\n        this.drop = this.drop.bind(this);\n        this.handleWeekChange= this.handleWeekChange.bind(this);\n        this.getScheduleInformation = this.getScheduleInformation.bind(this);\n        \n        this.handleSessionClick= this.handleSessionClick.bind(this);\n        this.changeWeek = this.changeWeek.bind(this);\n      }\n    \n    handleSessionClick(session) {\n      this.props.handleSessionClick(session);\n    }\n\n    getScheduleInformation(session, block_id){\n\n      const day = block_id%8;\n      const start= (((block_id/8)>>0)-1) *this.state.mins_x_block + this.state.timeStart;\n\n\n      const end=  start + session.length;\n\n      var daySessions= this.props.sessions.filter(s => (day === s.day && !compareSessions(s, session)));\n      console.log(daySessions);\n      var conflictSessions= daySessions.filter(s => (s.startMinute > start && s.startMinute <end));\n\n      console.log(conflictSessions);\n      var information ={\n        schedulable: conflictSessions.length===0,\n        startMinute: start\n      };\n      \n      return information;\n    }\n\n\n    drop(ev, id, config) {\n      ev.preventDefault();\n      var data = JSON.parse(ev.dataTransfer.getData(\"text\"));\n      \n      var day= config.week[id%8 -1];\n      const date = formatDate(day);\n  \n      if(data.type === \"group\"){\n        data = FormatGroupData(data);\n        data[\"type\"] = \"group\";\n      }\n\n      var session = generateSessionFromDrop(data);\n      session[\"startMinute\"] = (((id/8)>>0)-1) *config.mins_x_block + config.timeStart;\n      if (data.recurrent){\n        session[\"day\"]=id%8;\n        session[\"recurrencePeriod\"]= data.recurrencePeriod;\n        session[\"startFrom\"]= data.startFrom;\n      }else{\n        session[\"executionDate\"]= date;\n      }\n\n      var schedulableInformation= this.getScheduleInformation(session, id);      \n\n      if (schedulableInformation.schedulable===true){\n        session.startMinute= schedulableInformation.startMinute;\n\n        if (data.type ===\"session\"){  \n          this.props.updateSession(session);\n        }else if(data.type === \"group\"){\n          this.props.createSession(session);\n        }\n\n      }\n\n    }\n\n    handleWeekChange(event) {\n      var splitted = event.target.value.split(\"-W\");\n      console.log(\"INPUT VAL: \" + event.target.value);\n      var current = getDateOfISOWeek(splitted[1],splitted[0]);\n      \n      console.log(current);\n\n    this.setState({\n      selectedWeek:event.target.value,\n      week: getWeekFromDay(current)\n    });\n    }\n\n    changeWeek(changeAmount){\n      var splitted = this.state.selectedWeek.split(\"-W\");\n      var week = parseInt(splitted[1]) + changeAmount;\n      var year = parseInt(splitted[0]);\n\n\n      //decrease year\n      year = week<1? year-1: year;\n\n      var lastWeek = getNumberOfWeeksOfYear(year);\n\n      week = week<1? lastWeek: week;\n\n      //increase year\n      year = week>lastWeek? year+1: year;\n\n      lastWeek = getNumberOfWeeksOfYear(year);\n\n      week = week>lastWeek? 1: week;\n      \n      \n      var current = getDateOfISOWeek(week, year);\n      \n      console.log(current);\n      \n\n      week = week<10? \"0\"+week : week; \n\n      console.log(year+\"-W\"+ week);\n\n      this.setState({\n        selectedWeek: year+\"-W\"+ week,\n        week: getWeekFromDay( current)\n      });\n    }\n\n    render() {\n      console.log(this.context.sessions);\n      return (\n        <div>\n        <WeekDataBlock>\n          <SelectedWeek>\n          <button onClick= {()=>{this.changeWeek(-1)}}> {\"<\"} </button>\n          <p>{formatDate(this.state.week[0]) + \" - \" + formatDate(this.state.week[6])}</p>\n          <button onClick= {()=>{this.changeWeek(+1)}}> {\">\"} </button>\n          </SelectedWeek>\n        </WeekDataBlock>\n        <WeekDataBlock>\n        <WeekPicker>\n          <input type=\"week\" name=\"week\" id=\"select-week\" value={this.state.selectedWeek} required onChange={event => this.handleWeekChange(event)}></input>\n        </WeekPicker>\n        </WeekDataBlock>\n\n        <TimetableGrid divisions= {this.state.divisions}>\n              {drawRowLines(this.state, this.drop)}\n              {populateDaysRow(this.state.week)}\n              {populateTimeColumn(this.state)}\n              {populateGrid(this.state, this.props.sessions, this.handleSessionClick)}\n        </TimetableGrid>\n        </div>\n      );\n    }\n  }","import styled from 'styled-components';\n\n\n\nexport const SubjectMain= styled.div`\n  display: flex;\n  flex-direction: column; \n  width: 100%;\n\n  margin: 0.5rem 0 0 0;\n`;\n\nexport const SubjectTitle = styled.button`\n\n    background: ${props => props.color || \"#FEFEFE\"};\n    justify-content: center;\n    \n    border-radius: ${props => props.ButtonCornersRadius? \"4px 4px 4px 4px\":\"4px 4px 0 0\"}; \n    padding: 0.4em;\n    outline: none;\n    border: none;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        background: #6cd1b6;\n        color: #010606;\n    }\n`;\n\n\nexport const SubjectGroupsList= styled.div`\n    display: ${props => props.show? \"flex\":\"none\"};\n    flex-direction: column; \n    width: 100%;\n    background: #EFEFEF;\n    border-radius: 0 0 4px 4px;\n`;\n\nexport const GroupElement = styled.button`\n\n    background: ${props => props.group.color || \"#FEFEFE\"};\n    justify-content: center;\n    padding: 0.1em;\n    outline: none;\n    border: none;\n    margin: 0.5vh;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        background: #6cd1b6;\n        color: #010606;\n    }\n`;\n\nexport const AddGroupButton = styled.button`\n\n    background: #FFFFFF;\n    justify-content: flex-end;\n    padding: 0.4rem;\n    outline: none;\n    border: none;\n    margin: 2%;\n    border-radius: 0 0 4px 4px;\n\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        background: #6cd1b6;\n        color: #010606;\n    }\n`;","import React from 'react'\nimport {SubjectMain, SubjectTitle, SubjectGroupsList, GroupElement} from './SubjectElements';\n\nfunction drag(ev, group) {\n  ev.dataTransfer.setData(\"text\",JSON.stringify(group));\n}\n\n\n\nfunction ListGroups(params) {\n    return  params.map((group) =>\n    <GroupElement group={group} draggable=\"true\" onDragStart={event=>drag(event, group)} id={group.id}>{group.groupName}</GroupElement>\n  );\n}\n\n\nexport default class Subject extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {subject: props.subject,\n                  showGroups: false};\n\n    this.handleSubjectTitleClick= this.handleSubjectTitleClick.bind(this);\n  }\n\n  handleSubjectTitleClick() {\n    this.setState({\n        showGroups: !this.state.showGroups\n      });\n  }\n\n  render() {\n    return (\n        <SubjectMain>\n        <SubjectTitle onClick={this.handleSubjectTitleClick} ButtonCornersRadius= {!this.state.showGroups} color = {this.state.subject.color}>\n        {this.state.subject.subjectName}\n        </SubjectTitle>\n        <SubjectGroupsList show={this.state.showGroups}>\n            {ListGroups(this.state.subject.groups)}\n        </SubjectGroupsList>\n      </SubjectMain>\n    )\n  }\n}","import styled from 'styled-components';\n\n\nexport const FlexForm= styled.form`\n  display: flex;\n  flex-direction: column; \n  justify-content: space-around;\n\n  margin: 0 0.5em 2vh 0.5em;\n  `;\n\nexport const SessionInput= styled.input`\n  width:100%;\n  margin-bottom: 0.5em;\n`;\n\n\nexport const NotificationsButtonsContainer= styled.div`\n\n  display: flex;\n  flex-direction: row;\n  margin: 5%;\n  justify-content: space-around; \n  align-items: center;\n\n`;\n\nexport const FormButton = styled.button`\n  border-radius: 4px;\n  background: ${props => props.color || \"#EFEFEF\"};\n  padding: 5% 10%;\n  color: #FFFF;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #6cd1b6;\n    color: #010606;\n  }\n`;\n\n\nexport const FormSubmit = styled.input`\nborder-radius: 4px;\nbackground: ${props => props.color || \"#EFEFEF\"};\npadding: 5% 10%;\nmargin:0;\ncolor: #FFFF;\noutline: none;\nborder: none;\ncursor: pointer;\ntransition: all 0.2s ease-in-out;\ntext-decoration: none;\n&:hover {\n  transition: all 0.2s ease-in-out;\n  background: #6cd1b6;\n  color: #010606;\n}\n\n`;","import React from 'react';\nimport {FlexForm, NotificationsButtonsContainer, FormButton, FormSubmit, SessionInput} from './SessionFormElements'\n\nfunction showRooms(rooms, handleChange){\n    const listRooms = rooms.map((room) =>\n    <option value={room}>{room}</option>\n  );\n  return (\n    <select name=\"rooms\" id=\"rooms\" onChange={handleChange}>\n        {listRooms}\n    </select>\n  );\n}\n\n\nexport default class SessionForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state={};\n        this.onChangeField= this.onChangeField.bind(this);\n        this.onChangeCheckbox= this.onChangeCheckbox.bind(this);\n\n        console.log(\"selected: \");\n        console.log(this.props.selectedSession);\n        if (this.props.selectedSession){\n            this.state={\n                id: this.props.selectedSession.id,\n                subjectName: this.props.selectedSession.subjectName,\n                groupName: this.props.selectedSession.groupName,\n                startMinute: this.props.selectedSession.startMinute,\n                length: this.props.selectedSession.length,\n                day: this.props.selectedSession.day,\n                executionDate: this.props.selectedSession.executionDate,\n                recurrencePeriod: this.props.selectedSession.recurrencePeriod,\n                recurrent: this.props.selectedSession.recurrent,\n                startFrom: this.props.selectedSession.startFrom,\n                endAt: this.props.selectedSession.endAt,\n                room: this.props.selectedSession.room,\n                teacher: this.props.selectedSession.teacher,\n                color: this.props.selectedSession.color\n            }\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.updateStateFromSession = this.updateStateFromSession.bind(this);\n    }\n    updateStateFromSession(session){\n        this.state.setState({\n                id: session.id,\n                subjectName: session.subjectName,\n                groupName: session.groupName,\n                startMinute: session.startMinute,\n                length: session.length,\n                day: session.day,\n                executionDate: session.executionDate,\n                recurrencePeriod: session.recurrencePeriod,\n                recurrent: session.recurrent,\n                startFrom: session.startFrom,\n                endAt: session.endAt,\n                room: session.room,\n                teacher: session.teacher,\n                color: session.color\n            }\n        );\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.selectedSession !== this.props.selectedSession) {\n          this.updateStateFromSession(this.props.selectedSession);\n        }\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        var session={\n            id: this.state.id,\n            subjectName: this.state.subjectName,\n            groupName: this.state.groupName,\n            startMinute: this.state.startMinute,\n            length: this.state.length,\n            recurrent: this.state.recurrent,\n            room: this.state.room,\n            teacher: this.state.teacher,\n            color: this.state.color\n        }\n\n        if(session.recurrent){\n            session[\"startFrom\"] = this.state.startFrom;\n            session[\"endAt\"] = this.state.endAt;\n            session[\"day\"] =  Number(this.state.day);\n            session[\"recurrencePeriod\"] = Number(this.state.recurrencePeriod);\n        }else{\n            session[\"executionDate\"] = this.state.executionDate;\n        }\n\n        console.log(\"update button\");\n        console.log(session);\n        this.props.updateSession(session);\n        this.setState({\n            id: null\n        });\n    }\n\n    onChangeField(event, field){\n        console.log(event.target.value);\n        this.setState({[field]: event.target.value});\n    }\n\n    onChangeCheckbox(field){\n        this.setState(prevState => ({[field]: !prevState[field]}));\n    }\n\n\n    render(){\n\n        if (this.state.id){\n\n        return (\n            <div>\n            <FlexForm onSubmit={this.handleSubmit}>\n                <label>\n                    Subject\n                </label>\n                <SessionInput disabled type=\"text\" name=\"subject\" value={this.state.subjectName} onChange= {event => {this.onChangeField(event,\"subjectName\")}}/>\n                <label>\n                    Group\n                </label>\n                <SessionInput disabled type=\"text\" name=\"group\" value={this.state.groupName}  onChange= {event => {this.onChangeField(event,\"groupName\")}}/>\n                \n                <label>\n                <input type=\"checkbox\" name=\"recurrent\"  checked={this.state.recurrent} value={this.state.recurrent}  onChange= {event => {this.onChangeCheckbox(\"recurrent\")}}/>\n                    Recurrent\n                </label>\n                \n                {this.state.recurrent===true? \n                <React.Fragment> \n                <label>\n                    Recurrence Period\n                </label>\n                <SessionInput type=\"number\" name=\"day\"  value={this.state.recurrencePeriod}  onChange= {event => {this.onChangeField(event,\"recurrencePeriod\")}}/>\n                <label>\n                    Day\n                </label>\n                <SessionInput type=\"number\" name=\"day\"  value={this.state.day}  onChange= {event => {this.onChangeField(event,\"day\")}}/>\n                <label>\n                    Start From\n                </label>\n                <SessionInput type=\"week\" name=\"startFrom\"  value={this.state.startFrom}  onChange= {event => {this.onChangeCheckbox(event,\"startFrom\")}}/>\n                <label>\n                    End At\n                </label>\n                <SessionInput type=\"week\" name=\"endAt\"  value={this.state.endAt}  onChange= {event => {this.onChangeCheckbox(event, \"endAt\")}}/>\n                </React.Fragment>\n                :\n                <React.Fragment>\n                    <label>\n                        Execution Date\n                    </label>\n                    <SessionInput type=\"date\" name=\"day\"  value={this.state.executionDate}  onChange= {event => {this.onChangeField(event,\"executionDate\")}}/>\n                </React.Fragment>\n                }\n\n\n                <label>\n                    Start Time\n                </label>\n                <SessionInput type=\"text\" name=\"startTime\" value={this.state.startMinute}  onChange= {event => {this.onChangeField(event,\"startMinute\")}}/>\n                <label>\n                    Duration\n                </label>\n                <SessionInput type=\"text\" name=\"length\"  value={this.state.length}  onChange= {event => {this.onChangeField(event,\"length\")}}/>\n                <label>\n                    Room\n                </label>\n                {showRooms(this.props.getAvalibleRooms(this.props.selectedSession), this.onChangeField)}\n                <br/>\n                <FormSubmit color = \"#2DA283\" type=\"submit\" value=\"Update\"/>\n            </FlexForm>\n            <h4 style={{textAlign: \"center\"}}>Notificaciones</h4>\n            <NotificationsButtonsContainer>\n            <FormButton color = \"#2DA283\">\n                ver\n            </FormButton>\n            <FormButton color = \"#2DA283\">\n                añadir\n            </FormButton>\n            </NotificationsButtonsContainer>\n            </div>\n        );\n        }else{\n            return <div></div>;\n        }\n    }\n\n}","import React from 'react';\nimport { LateralMenu, MenuHeader, MenuBody, SpaceBetweenMenu, Button, CentralMenu, Footer} from '../PagesElements';\nimport Timetable from '../../components/Timetable'\nimport Subject from '../../components/Subject'\nimport SessionForm from '../../components/SessionForm';\nimport {v4 as uuidv4} from 'uuid';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\n\nimport {MyLoader} from '../PagesElements.js';\n\n\nconst session1={\n  id:uuidv4(),\n  startMinute: 480,\n  length: 60,\n  color: \"#23ea51\",\n  subjectName: \"subject X\",\n  groupName: \"group n\",\n  recurrent: true, \n  recurrencePeriod: 1,\n  day: 1,\n  startFrom: \"2021-W01\",\n  room:\"Sala 1\"\n}\nconst session2={\n  id:uuidv4(),\n  startMinute: 540,\n  length: 60,\n  color: \"#f7eb80\",\n  subjectName: \"subject X\",\n  groupName: \"group n\",\n  recurrent: true,\n  recurrencePeriod: 2,\n  day: 1,\n  startFrom: \"2021-W01\",\n  room:\"Sala Grande\"\n}\nconst session3={\n  id:uuidv4(),\n  startMinute: 780,\n  length:40,\n  color: \"#db80f8\",\n  subjectName: \"subject Testing asdasd asdas dasd \",\n  groupName: \"Fantastic 4s\",\n  recurrent: false, \n  executionDate: \"2021-04-02\",\n  room:\"Sala 1\"\n}\n\n\nconst sessions= [session1, session2, session3];\n\n\nconst rooms=[\"Sala 1\", \"Sala Grande\", \"Salón de actos\"];\n\n\nfunction getAvalibleRooms(session){\n  var daySessions = sessions.filter (s => s.day===session.day);\n\n  var start = session.startMinute;\n  var end= session.startMinute + session.length;\n\n  var conflictSessions= daySessions.filter(s => (s.startMinute > start && s.startMinute <end));\n  var conflictRooms= new Set(conflictSessions.map(s => s.room));\n\n\n  return rooms.filter(r=> !conflictRooms.has(r));\n}\n\n\nfunction ListSubjects(params) {\n  return  params.map((subject) =>\n  <Subject subject={subject}></Subject>\n);\n}\n\n\n\nexport default class Horario extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.handleSessionClick = this.handleSessionClick.bind(this);\n    this.state={\n      loading: false,\n      sessions: [],\n      subjects: []\n    \n    };\n\n    this.setLoading = this.setLoading.bind(this);\n    this.setSessions = this.setSessions.bind(this);\n    this.updateSession = this.updateSession.bind(this);\n    this.createSession = this.createSession.bind(this);\n\n    this.setSubjects = this.setSubjects.bind(this);\n\n  }\n  \n  handleSessionClick(clickedSession){\n    this.setState({ \n      selectedSession: clickedSession});\n      console.log(clickedSession);\n  }\n  \n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n  setSessions(_sessions){\n    this.setState({sessions: _sessions});\n  }\n  updateSession(session){\n    this.context.updateSession(session, ()=> {\n      this.setState((prevState) =>(\n        {sessions: [...prevState.sessions.filter(s => s.id!==session.id), session]}\n      ));\n    }\n  );\n  }\n  createSession(session){\n    this.context.createSession(session, ()=> {\n        this.setState((prevState) =>(\n          {sessions: [...prevState.sessions, session]}\n        ));\n      }\n    );\n  }\n\n  setSubjects(_subjects){\n    this.setState({subjects: _subjects});\n  }\n\n  componentDidMount() {\n    this.context.setLoadingCallback(this.setLoading);\n    \n    this.context.loadSubjectsOfTeacher(\"teacher Z\", this.setSubjects);\n    this.context.loadSessionsOfTeacher(\"teacher Z\", this.setSessions);\n  }\n\n  render() {\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text='Loading your content...'\n      >\n      <div \n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >\n          <SpaceBetweenMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>Asignaturas</h2>\n              </MenuHeader>\n              <MenuBody>\n                {ListSubjects(this.state.subjects)}\n                <Button>\n                  +\n                </Button>\n              </MenuBody>\n            </LateralMenu>\n            <CentralMenu>\n              <Timetable timeStart={480} scheduleSize={720} mins_x_block={15} \n                          sessions= {this.state.sessions} setSessions= {this.setSessions} \n                          handleSessionClick={this.handleSessionClick}\n                          updateSession={this.updateSession}\n                          createSession = {this.createSession}>\n              </Timetable>\n            </CentralMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>Sesión</h2>\n              </MenuHeader>\n              <MenuBody>\n                <SessionForm getAvalibleRooms = {getAvalibleRooms} \n                              key ={this.state.selectedSession? this.state.selectedSession.id:\"-\"} \n                              id ={this.state.selectedSession? this.state.selectedSession.id:null} \n                              selectedSession={this.state.selectedSession}\n                              updateSession = {this.updateSession}>\n                </SessionForm>\n              </MenuBody>\n            </LateralMenu>     \n          </SpaceBetweenMenu>\n          <Footer></Footer>\n        </div>\n      </MyLoader>\n    );\n  };\n  \n}\n","import React from 'react';\n\n\nconst Asignaturas = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      }}\n    >\n      <h1>Asignaturas</h1>\n    </div>\n  );\n};\n\nexport default Asignaturas;","import React from 'react';\n\nconst Aulas = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      }}\n    >\n      <h1>Aulas</h1>\n    </div>\n  );\n};\n\nexport default Aulas;","import React from 'react';\n\nconst Usuario = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      }}\n    >\n      <h1>Usuario</h1>\n    </div>\n  );\n};\n\nexport default Usuario;","// Required for side-effects\nrequire(\"firebase/firestore\");\n\n \n\nexport default class prodData{\n\n    constructor(db, loadingCallback) {\n        this.db = db;\n        this.loadingCallback= loadingCallback;\n    }\n    setLoadingCallback(callback){\n        this.loadingCallback= callback;\n    }\n\n    getSessionsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"sessions\").where(\"teacher\", \"==\", teacher).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n\n            \n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        });\n    }\n    getSessionsOfSubjectGroup(subject, group){\n        this.db.collection(\"sessions\").where(\"subjectName\", \"==\", subject).where(\"groupName\", \"==\", group).get().then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n                console.log(`${doc.id} => ${JSON.stringify(doc.data())}`);\n            });\n        });\n    }\n    getSessionsOfRoom(room){\n        this.loadingCallback(true);\n\n        this.db.collection(\"sessions\").where(\"room\", \"==\", room).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            console.log(querySnapshot);\n\n            querySnapshot.forEach((doc) => {\n                console.log(`${doc.id} => ${JSON.stringify(doc.data())}`);\n            });\n        });\n    }\n    updateSession(session, callback) {\n        console.log(\"update\");\n        console.log(session);\n\n        var loading = this.loadingCallback;\n        loading(true);\n\n        this.db.collection(\"sessions\").doc(session.id).update({\n            day: session.day,\n            endAt: session.endAt,\n            groupName: session.groupName,\n            length: session.length,\n            recurrencePeriod: session.recurrencePeriod,\n            recurrent: session.recurrent,\n            room: session.room,\n            startFrom: session.startFrom,\n            startMinute: session.startMinute,\n            subjectName: session.subjectName,\n            teacher: session.teacher\n          }).then(function() {\n            loading(false);\n            callback(session);\n            console.log(\"session updated\");\n          });\n    }\n    createSession(session, callback){\n        console.log(\"creating\");\n        console.log(session);\n        this.db.collection(\"sessions\").add(\n            session.recurrent? \n            {\n            type: \"session\",\n            day: session.day,\n            recurrencePeriod: session.recurrencePeriod,\n            startFrom: session.startFrom,\n            endAt: session.endAt,\n            groupName: session.groupName,\n            length: session.length,\n            recurrent: session.recurrent,\n            room: session.room,\n            startMinute: session.startMinute,\n            subjectName: session.subjectName,\n            teacher: session.teacher,\n            color: session.color\n            }:\n            {\n            type: \"session\",\n            executionDate: session.executionDate,\n            groupName: session.groupName,\n            length: session.length,\n            recurrent: session.recurrent,\n            room: session.room,\n            startMinute: session.startMinute,\n            subjectName: session.subjectName,\n            teacher: session.teacher,\n            color: session.color\n            }\n        )\n        .then((docRef) => {\n            console.log(\"Document written with ID: \", docRef.id);\n            callback(session);\n            session[\"id\"] = docRef.id; \n        })\n        .catch((error) => {\n            console.error(\"Error adding document: \", error);\n        });\n    }\n\n    getSubjectsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"subjects\").where(\"teachers\", \"array-contains\", teacher).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n\n            \n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var group= doc.data();\n                group[\"id\"]= doc.id;\n                data.push(group);\n            });\n            callback(data);\n        });\n    }\n\n}\n","import firebase from 'firebase';\nimport prodData from './prodData';\n\n// Required for side-effects\nrequire(\"firebase/firestore\");\n\n \n\n\nexport default class Repository{\n\n    constructor() {\n        if (this.db == null){\n        console.log(\"init repo\");\n        var firebaseConfig = {\n            apiKey:             process.env.REACT_APP_FIREBASE_API_KEY,\n            authDomain:         process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n            projectId:          process.env.REACT_APP_FIREBASE_PROJECT_ID,\n            storageBucket:      process.env.REACT_APP_FIREBASE_STORAGEBUCKET,\n            messagingSenderId:  process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n            appId:              process.env.REACT_APP_FIREBASE_APP_ID\n          };\n\n        firebase.initializeApp(firebaseConfig);\n        this.db = firebase.firestore();\n        }\n        this.dataSource= new prodData(this.db);\n    }\n\n    setLoadingCallback(callback){\n        this.dataSource.setLoadingCallback(callback);\n    }\n\n    loadSessionsOfTeacher(teacher, callback){\n        this.dataSource.getSessionsOfTeacher(teacher, callback);\n    }\n\n    updateSession(session, callback){\n        this.dataSource.updateSession(session, callback);\n    }\n    createSession(session, callback){\n        this.dataSource.createSession(session, callback);\n    \n    }\n\n    loadSubjectsOfTeacher(teacher, callback){\n        this.dataSource.getSubjectsOfTeacher(teacher, callback);\n    }\n\n    updateSubject(subject){\n    }\n\n}","import React from 'react';\nimport './App.css';\nimport Navbar from './components/NavBar';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Horario from './pages/Horario/Horario';\nimport Asignaturas from './pages/Asignaturas';\nimport Aulas from './pages/Aulas';\nimport Usuario from './pages/Usuario';\n\n\nimport Repository from './repository/Repository';\nimport {RepositoryContext} from './context/RepositoryContext';\n\nexport default class AppWrapper extends React.Component\n {\n  constructor(props){\n    super(props);\n    this.state={};\n  }\n\n  render(){\n  return (\n    <RepositoryContext.Provider value= {new Repository()}>\n      <Router id=\"App\">\n        <Navbar hist={this.props.hist}/>\n        <Switch id=\"page-wrap\">\n          <Route path='/Horario' render={()=><Horario/>}/>\n          <Route path='/Asignaturas' component={Asignaturas} />\n          <Route path='/Aulas' component={Aulas} />\n          <Route path='/Usuario' component={Usuario} />\n        </Switch>\n      </Router>\n    </RepositoryContext.Provider>\n  );\n  }\n\n }","import React from 'react';\nimport './App.css';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {RepositoryContext} from './context/RepositoryContext';\nimport AppWrapper from './AppWrapper';\n\nfunction App() {\n  let history = useHistory();\n  console.log(\"app\");\n  console.log(RepositoryContext);\n  return (\n    <AppWrapper hist={history}></AppWrapper>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './App';\n\nconst name = 'Kiwi';\nconst element = <App name={name}/>;\nReactDOM.render(\n  element,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}