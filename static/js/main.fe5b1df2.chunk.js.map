{"version":3,"sources":["reportWebVitals.js","components/NavBar/NavBarElements.js","logo.png","translations/Spanish.js","components/NavBar/index.js","pages/PagesElements.js","components/Timetable/TimetableElements.js","context/RepositoryContext.js","components/Timetable/index.js","components/Subject/SubjectElements.js","components/Subject/index.js","components/SessionForm/SessionFormElements.js","components/SessionForm/index.js","pages/Horario/Horario.js","components/Modal/ModalElements.js","components/Modal/index.js","components/SubjectForm/SubjectFormElements.js","components/SubjectForm/index.js","pages/Asignaturas/Asignaturas.js","components/Resources/ResourceElements.js","components/Resources/Resource.js","pages/Aulas/Aulas.js","pages/Usuario.js","pages/Profesores/Profesores.js","pages/Titulaciones/Titulaciones.js","pages/Login/Login.js","repository/Mock.js","repository/prodData.js","repository/Repository.js","repository/testData.js","AppWrapper.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Nav","styled","nav","SelectRouter","Link","FaBars","select","NavMenu","div","NavBtn","NavBtnLinkGreen","NavBtnLinkYellow","spanish","noCollision","withCollision","Navbar","props","history","useHistory","style","width","color","display","flexDirection","justifyContent","alignItems","textDecoration","margin","height","src","logo","alt","loggedUser","Fragment","data-testid","name","id","onChange","event","location","push","target","value","handleRouteChange","to","textAlign","background","padding","borderRadius","outline","border","transition","SpaceBetweenMenu","CentralMenu","LateralMenu","MenuHeader","MenuBody","Button","button","Footer","StyledLoader","LoadingOverlay","MyLoader","active","children","classNamePrefix","spinner","text","StyledHeader","PageHeader","TimetableGrid","divisions","GridTimeElement","column","row","size","GridContainer","GridContainerElement","GridLinesComponent","attrs","gridColumnStart","gridRowStart","gridColumnEnd","gridRowEnd","borderTop","GridDayElement","marginTop","marginBot","RepositoryContext","React","createContext","sessionToString","session","overflow","textOverflow","subjectName","groupName","length","PlaceSessionBlock","block","config","handleSessionClick","exampleSession","time","startTime","split","startMinute","parseInt","timeStart","mins_x_block","day","Math","ceil","map","onClick","draggable","onDragStart","ev","dataTransfer","setData","JSON","stringify","dragSession","uuidv4","populateGrid","params","sessions","populated","sessionsByTimeblocks","forEach","timeBlocks","rowEnd","Array","from","x","i","getTimeBlocksOfSession","key","Object","entries","populateTimeColumn","startHour","hourSize","keys","n","days","1","2","3","4","5","6","7","drawRowLines","dropFunction","divs","toString","onDrop","onDragOver","preventDefault","Timetable","state","scheduleSize","drop","bind","getScheduleInformation","this","block_id","start","end","schedulable","filter","s","session2","console","log","data","parse","getData","type","defaultData","defaultSessionValues","FormatGroupData","origin","room","teacher","generateSessionFromDrop","hours","floor","minutes","updateSession","createSession","Component","contextType","SubjectMain","SubjectTitle","ButtonCornersRadius","SubjectGroupsList","show","GroupElement","group","ListGroups","drag","Subject","subject","showGroups","handleSubjectTitleClick","setState","groups","FlexForm","form","SessionInput","input","FormSubmit","showRooms","rooms","handleChange","defaultRoom","field","listRooms","selected","defaultValue","e","marginBottom","week","showWeekdays","selectedDay","listDays","SessionForm","onChangeField","onChangeCheckbox","selectedSession","handleSubmit","updateStateFromSession","onUnavailability","checkAvailability","prevProps","t","includes","checkConcurrency","teachers","prevState","onSubmit","disabled","min","max","addElementToCollection","col","elem","r","indexOf","chooseColor","Horario","loading","subjects","titles","footerMsg","msgs","msg","header","selectedTitle","selectedSemester","setFooterMsg","setLoading","setSessions","updateDroppedSession","setSubjects","setTitles","selectTitle","selectSemester","setRooms","setTeachers","compareAvailabilityFactors","showError","err","session1","timeBlocks1","timeBlocks2","some","clickedSession","_loading","_sessions","a","context","checkDisponibilityForSession","availability","unavailableResource","callback","loadSessionsOfSubjects","subjectNames","_subjects","_titles","_title","parsed","search","titleName","semester","loadSubjectsOfTitle","_rooms","_teachers","setLoadingCallback","setErrorCallback","loadTitles","getAvailableRooms","getAvailableTeachers","title","semesters","sem","ModalBase","ModalContent","Modal","onClose","FullBody","justify","FormGroup","FormBody","wrap","overflowx","overflowy","EmptySpace","Header","FormElementGroup","StyledInput","StyledLabel","label","ColorButton","GroupButtonList","onSelectGroup","SessionButtonList","onSelectSession","onDelete","GroupFormGroup","onChangeCheckBox","showModal","onDeleteSession","onDeleteGroup","selectedTitlesOfSubject","selectedTitles","selectedTitlesNames","inSubject","checked","maxWidth","TitleInSelectedTitles","SubjectForm","showTitles","modalContent","selectedSubject","updateSubject","deleteSubject","selectedGroup","onSelectTitle","subjectIsValid","groupIsValid","g","sessionIsValid","createDefaultSession","Asignaturas","error","modalForm","newSubject","newGroup","newSession","deleteSession","onSelectSubject","createSubject","updateSubjectName","createGroup","deleteGroup","chooseCreateForm","SelectTitleOfSubject","getRooms","errorCallback","createGroupForm","createSessionForm","object","rootField","o","fieldOfObject","originalSelectedSubject","loadSessionsOfSubjectGroup","getSubjects","oldSubjectname","checkBoxBehaviour","index","splice","ResourceList","ResourceElement","Resource","properties","resource","information","p","condition","delete","roomToResource","deleteRoom","roomName","createRoomForm","newRoom","onChangeRoomValue","onChangeConcurrency","createRoom","Aulas","OnChangeRoomValue","newValue","preState","Usuario","cursor","logOut","Profesores","newTeacher","teacherName","OnChangeTeacherValue","getTeachers","createTeacher","deleteTeacher","deleteCallback","marginLeft","newTitle","OnChangeTitleValue","getTitles","createTitle","deleteTitle","Login","email","password","errorMsg","setErrorMsg","setEmail","setPassword","psw","heigth","boxShadow","borderColor","borderWidth","auth","d","Mock","baseurl","loadingCallback","user","formattedTeachers","formattedRooms","updatedSemester","oldSubjectName","require","prodData","_","userIsLogged","firebaseConfig","apiKey","process","trim","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","apps","initializeApp","db","firestore","onAuthStateChanged","signOut","catch","signInWithEmailAndPassword","userCredential","errorCode","code","errorMessage","message","currentUser","collection","get","querySnapshot","doc","batch","teacherRef","set","timeBlock","teacherOcupancyRef","ocupancy","FieldValue","arrayUnion","update","commit","arrayRemove","where","docs","every","tb","roomRef","roomOcupancyRef","sessionsRef","oldSession","oldOcupancyRoom","oldOcupancyTeacher","updateGeneral","updateRoom","updateTeacher","ocupancyRoom","ocupancyTeacher","sessionRef","deleteSessionBatch","subjectRef","sRef","owner","getUser","deleteSessionsBatch","teacherIsAvailable","roomIsAvailable","teachersOcupancyRef","dataSources","fetch","response","json","res","result","format","Repository","env","dataSource","getDataSource","warn","callBack","getSessionsOfSubjectGroup","AppWrapper","trimEnd","repository","isLogged","Provider","hist","path","render","component","Titulaciones","App","element","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fe5b1df2.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { FaBars } from 'react-icons/fa';\nimport { NavLink as Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Nav = styled.nav`\n  background: #EFEFEF;\n  height: 10vh;\n  display: flex;\n  justify-content: space-between;\n  z-index: 10;\n`;\n\nexport const NavLink = styled(Link)`\n  color: #fff;\n  background: #F5AB00;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  margin:0 1vw 1vw 0;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #FFFFFF;\n  }\n`;\n\nexport const Bars = styled(FaBars)`\n  display: none;\n  color: #fff;\n  @media screen and (max-width: 1024px) {\n    display: block;\n    align-items: center;\n    display: flex;\n\n    font-size: 1.8rem;\n    cursor: pointer;\n    justify-self:center;\n  }\n`;\n\nexport const SelectRouter=styled.select`\ndisplay: none;\ncolor: #fff;\n@media screen and (max-width: 1024px) {\n  display: block;\n  align-items: center;\n  display: flex;\n\n  font-size: 1.8rem;\n  cursor: pointer;\n  justify-self:center;\n  background: #2DA283;\n}\n\n`;\n\nexport const NavMenu = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  @media screen and (max-width: 1024px) {\n    display: none;\n  }\n`;\n\nexport const NavBtn = styled.nav`\n  display: flex;\n  align-items: center;\n  margin: 0 1vw;\n  @media screen and (max-width: 1024px) {\n    display: none;\n  }\n`;\n\nexport const NavBtnLinkGreen = styled(Link)`\n  border-radius: 4px;\n  background: #2DA283;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  max-width: 15vw;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #6cd1b6;\n    color: #010606;\n  }\n`;\n\nexport const NavBtnLinkYellow = styled(Link)`\n  border-radius: 4px;\n  background: #F5AB00;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #d69b1b;\n    color: #010606;\n  }\n`;","export default __webpack_public_path__ + \"static/media/logo.ec64eeb2.png\";","\nexport var spanish={\n    loginHeader: \"Iniciar sesin\",\n    email: \"Correo electrnico\",\n    password: \"Contrasea\",\n    login: \"Login\",\n    subjects: \"Asignaturas\",\n    sessions: \"Sesiones\",\n    classrooms:\"Aulas\",\n    teachers: \"Profesores\",\n    titles: \"Titulaciones\",\n    groups: \"Grupos\",\n    classRoom: \"Aula\",\n    teacher: \"Profesor\",\n    group: \"Grupo\",\n    subject: \"Asignatura\",\n    session: \"Sesin\",\n    day: \"Da\",\n    startTime: \"Hora de inicio\",\n    length: \"Duracin\",\n    color: \"Color\",\n    name: \"Nombre\",\n    RelatedTitles: \"Titulaciones relacionadas\",\n    delete:\"Borrar\",\n    update: \"Actualizar\",\n    create: \"Crear\",\n    semester: \"Semestre\",\n    SelectTitlePlaceholder: \"Selecciona una titulacin\",\n    SelectSemesterPlaceholder: \"Selecciona un semestre\",\n    Weekdays:{\n        Monday: \"Lunes\",\n        Tuesday: \"Martes\",\n        Wednesday: \"Miercoles\",\n        Thursday: \"Jueves\",\n        Friday: \"Viernes\",\n        Saturdar: \"Sabado\",\n        Sunday:\"Domingo\",\n    },\n    updateMsgs:{\n        noCollision: \" actualizada con colisiones.\",\n        withCollision: \" actualizada sin colisiones.\"\n    },\n    loadingMsg: \"Cargando contenido\",\n    createSubject: \"Crear asignatura\",\n    createGroup: \"Crear grupo\",\n    createSession: \"Crear sesin\",\n    createRoom: \"Crear aula\",\n    createTeacher: \"Crear profesor\",\n    createTitle: \"Crear titulacin\",\n    sessionDefaultValues: \"Valores de sesin por defecto\",\n    concurrent: \"Concurrente\",\n    checkConcurrency: \"Comprobar concurrencia\",\n    semesters: \"Semestres\",\n    logout: \"Cerrar sesin\",\n    schedule: \"Horario\"\n}","\nimport {\n  Nav,\n  NavMenu,\n  NavBtn,\n  NavBtnLinkGreen,\n  NavBtnLinkYellow,\n  SelectRouter\n} from './NavBarElements';\n\nimport React from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport logo from '../../logo.png';\nimport {spanish} from '../../translations/Spanish'\n\nfunction handleRouteChange(event, history, location) {\n  history.push(\"/\"+event.target.value);\n  //location= event.target.value;\n}\n\nconst Navbar = (props) => {\n  let history = useHistory();\n  //let location = useLocation();\n  return (\n    <>\n      <Nav>\n        <div style= {{width: \"15vw\"}}>\n        <div style={{  color: \"#fff\", display: \"flex\", flexDirection:\"column\", justifyContent: \"center\", alignItems: \"center\", textDecoration: \"none\",\n                      margin: \"0 0 0 1vw\", height: \"100%\"}}>\n        <img src={logo} alt=\"logo\"   height=\"100%\"/>\n        </div>\n        </div>\n         {\n           props.loggedUser?\n          <React.Fragment>\n            <SelectRouter data-testid= \"routeSelector\" name=\"selectRouter\" id=\"selectRouter\" onChange={event =>{handleRouteChange(event, history)}}>\n            <option value={\"Horario\"}>{spanish.schedule}</option>\n            <option value={\"Asignaturas\"}>{spanish.subjects}</option>\n            <option value={\"Aulas\"}>{spanish.classrooms}</option>\n            <option value={\"Profesore\"}>{spanish.teachers}</option>\n            <option value={\"Titulaciones\"}>{spanish.titles}</option>\n            </SelectRouter>\n    \n            <NavMenu>\n              <NavBtn>\n                <NavBtnLinkYellow data-testid=\"scheduleNavButton\" to='/Horario'>{spanish.schedule}</NavBtnLinkYellow>\n              </NavBtn>\n              <NavBtn>\n                <NavBtnLinkYellow data-testid=\"subjectsNavButton\" to='/Asignaturas'>{spanish.subjects}</NavBtnLinkYellow>\n              </NavBtn>\n              <NavBtn>\n                <NavBtnLinkYellow data-testid=\"classroomsNavButton\" to='/Aulas'>{spanish.classrooms}</NavBtnLinkYellow>\n              </NavBtn>\n              <NavBtn>\n                <NavBtnLinkYellow data-testid=\"teachersNavButton\" to='/Profesores'>{spanish.teachers}</NavBtnLinkYellow>\n              </NavBtn>\n              <NavBtn>\n                <NavBtnLinkYellow data-testid=\"titlesNavButton\" to='/Titulaciones'>{spanish.titles}</NavBtnLinkYellow>\n              </NavBtn>\n            </NavMenu>\n            <NavBtn style={{width: \"15vw\"}}>\n              <NavBtnLinkGreen data-testid=\"userNavButton\" to='/Usuario' style={{width: \"15vw\", textAlign: \"center\"}}>\n              {props.loggedUser}\n\n              </NavBtnLinkGreen>\n            </NavBtn>\n          </React.Fragment>\n\n         :\n         <React.Fragment>\n            <div style={{display: \"flex\", width: \"100%\", justifyContent: \"center\", alignItems: \"center\"}}>\n              <div style={{background: \"#F5AB00\", padding: \"1rem 2rem\", borderRadius: \"5px\", color: \"white\"}}>\n                Login\n              </div>\n            </div>\n            <NavBtn>\n              <div style={{  borderRadius: \"4px\", background: \"#2DA283\",padding: \"10px 22px\", color:\"#fff\", outline: \"none\", border: \"none\", transition: \"all 0.2s ease-in-out\", textDecoration: \"none\"}} >Usuario Desconocido</div>\n            </NavBtn>\n         </React.Fragment>\n\n\n         }\n\n      </Nav>\n    </>\n  );\n};\n\nexport default Navbar;","import styled from 'styled-components';\nimport LoadingOverlay from 'react-loading-overlay';\n\nexport const SpaceBetweenMenu= styled.div`\ndisplay: flex;\nalign-items: flex-end;\njustify-content: space-around;\n\n\n@media screen and (max-width: 1024px) {\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nexport const CentralMenu = styled.div`\n  width: 70vw;\n  white-space: nowrap;\n  background:  #FFFFFF;\n\n  @media screen and (max-width: 1024px) {\n    width:100%;\n //   order: -9999;\n  }\n`;\n\nexport const LateralMenu = styled.div`\n  display: flex;\n  flex-direction: column; \n  width: 15vw;\n  margin: 0 1vw;\n  white-space: nowrap;\n  align-items: strech;\n  justify-content: stretch; \n\n  @media screen and (max-width: 1024px) {\n    width:100%;\n    height:100%;\n    margin: 1vh 1%;\n  }\n`;\n\nexport const MenuHeader = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  background: #EFEFEF;\n  color: #00000;\n\n  margin: 0 0 0.5vh 0;\n  border-radius: 10px 10px 0 0;\n  justify-content: center;\n  padding: 5px 11px;\n`;\n\nexport const MenuBody = styled.div`\n  display: flex;\n  flex-direction: column; \n  align-items: stretch;\n  white-space: nowrap;\n  padding: 2% 1%;\n  height:70vh;\n  justify-content: flex-start;\n  background: #FFFFFF;\n  border-radius: 0 0 10px 10px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  width:100%;\n  border: 1px solid #EFEFEF;\n\n  @media screen and (max-width: 1024px) {\n    height:100%;\n  }\n`;\n\nexport const FullWidthMenu = styled.div`\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  padding: 10px 22px;\n  width: 100vw;\n  justify-content: center;\n  background: #EFEFEF;\n  margin: 2px;\n  @media screen and (max-width: 1024px) {\n    background: #FEFEFE;\n  }\n`;\n\nexport const Button = styled.button`\n  font-size: 1em;\n  margin: 0.5em;\n  padding: 0.25em 0.5em;\n  border-radius: 3px;\n  outline: none;\n  border: none;\n  background: ${props=> props.background? props.background: \"#2DA283\"};\n  color: white;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    filter: brightness(125%);\n    color: #010606;\n  }\n`;\n\nexport const Footer = styled.div`\n  margin-top: 0.5vh;\n  min-height: 7vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media screen and (max-width: 1024px) {\n    display: none\n  }\n`;\n\nconst StyledLoader = styled(LoadingOverlay)`\n  height: 100%;\n\n`\n \nexport function MyLoader({ active, children }) {\n  return (\n    <StyledLoader\n      active={active}\n      classNamePrefix='MyLoader_'\n      spinner\n      text='Loading your content...'\n    >\n      {children}\n    </StyledLoader>\n  )\n}\n\nexport const StyledHeader = styled.div`\n  height: 5.6vh;\n  margin: 1vh 0 0 0;\n  display: flex;\n  justify-content: center; \n  @media screen and (max-width: 1024px) {\n      \n    }\n`;\nexport function PageHeader({children }) {\n  return (\n    <StyledHeader>\n      {children}\n    </StyledHeader>\n  )\n}","import styled from 'styled-components';\n\n\nexport const TimetableGrid= styled.div`\n  display: grid;\n  grid-template-columns: 9% 13% 13% 13% 13% 13% 13% 13%;\n  \n  grid-template-rows: repeat(${props => props.divisions}, 1fr);\n  justify-items: center;\n\n  width: 100%;\n  height:70vh;\n  border: 1px solid #ccc;\n\n  white-space: nowrap;\n  justify-content: stretch; \n  overflow-y: scroll;\n  overflow-x: hidden;\n\n`;\n\n\n\nexport const GridTimeElement = styled.div`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + props.size};\n  justify-self: stretch;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #FFF;\n\n  min-height: 3rem;\n\n  border-top: 1px solid #EFEFEF;\n\n\n`;\n\nexport const GridContainer = styled.div`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + (props.size || 1)};\n  background-color: ${props => props.color || \"#FFFFFF\"};\n  justify-self: stretch;\n  height: auto;\n  width: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  outline: none;\n  border: none;\n  \n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  color: white; \n`;\n\nexport const GridContainerElement = styled.button`\nbackground-color: ${props => props.color || \"#FFFFFF\"};\njustify-self: stretch;\nheight: 100%;\nwidth: 100%;\n\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n\noutline: none;\nborder: none;\n\noverflow: hidden;\ntext-overflow: ellipsis;\n\ncolor: white; \n&:hover {\n  transition: all 0.2s ease-in-out;\n  filter: brightness(85%);\n  color: #010606;\n}\n&:active {\n  background: #FFFFFF;\n}\n`;\n\nexport const GridElement = styled.button`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + (props.size || 1)};\n  background-color: ${props => props.color || \"#FFFFFF\"};\n  justify-self: stretch;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  outline: none;\n  border: none;\n  \n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  color: white; \n  &:hover {\n    transition: all 0.2s ease-in-out;\n    filter: brightness(85%);\n    color: #010606;\n  }\n  &:active {\n    background: #FFFFFF;\n  }\n\n`;\n\nexport const GridLinesComponent = styled.div.attrs(props => ({\n  style: {\n    background: props.background,\n    gridColumnStart: props.column,\n    gridRowStart: props.row,\n    gridColumnEnd: props.column +1,\n    gridRowEnd: props.row +1,\n    borderTop: props.row>1 && props.column>0 ? \"1px solid #EFEFEF\": \"\"\n  },\n}))\n`justify-self: stretch;\nmin-height: 1rem;\n${props => props.column>1 ? \"&:hover {transition: all 0.2s ease-in-out;background: #EFEFEF;color: #010606;}\":\"\"};\n`;\n\n\nexport const GridDayElement = styled.div`\n  grid-column-start: ${props => props.column};\n  grid-row-start: ${props => props.row};\n\n  grid-column-end: ${props => props.column +1};\n  grid-row-end: ${props => props.row + (props.size || 1)};\n  background-color: ${props => props.color || \"#FFFFFF\"};\n  justify-self: stretch;\n  height: auto;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center; \n\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  border-bottom: 1px solid #EFEFEF;\n\n\n  \n  margin-top:${props => props.marginTop}%;\n  margin-bottom:${props => props.marginBot}%;\n`;\n\n\nexport const WeekDataBlock= styled.div`\n  display: flex;\n  flex-direction: row; \n  justify-content: center;\n  align-items: center;\n  \n  width: 100%;\n  height: 5vh;\n`;\n\nexport const WeekPicker = styled.div`\n  margin-right: 5vw;\n  margin-left: auto;\n`;\nexport const SelectedWeek= styled.div`\n    \n  display: flex;\n  flex-direction: row; \n  justify-content: center;\n  align-items: center;\n  justify-self: center;\n  margin-right: 3%;\n`;","import React from 'react';\n\nexport const RepositoryContext= React.createContext();\n","import React from 'react';\nimport {TimetableGrid, GridTimeElement, GridContainer, GridDayElement, GridLinesComponent, GridContainerElement} from './TimetableElements';\nimport {RepositoryContext} from '../../context/RepositoryContext';\n\n\n\nimport {v4 as uuidv4} from 'uuid';\n\n\nfunction sessionToString(session){\n  return <p style={{overflow: \"hidden\",\n                   textOverflow: \"ellipsis\"}}>\n         {session.subjectName}<br/>\n         {session.groupName}<br/>\n         {\"\"+ session.length + \" mins\"}\n  </p>;\n}\n\nfunction dragSession(ev, session) {\n  ev.dataTransfer.setData(\"text\",JSON.stringify(session));\n}\n\n\nfunction getTimeBlocksOfSession(session){\n  var time = session.startTime.split(\":\");\n  var startMinute= parseInt(time[0])*60 + parseInt(time[1]);\n  const row = (((startMinute - 480)/15)>>0) + 1;\n  const rowEnd= Math.ceil(((startMinute+parseInt(session.length) -480) /15))+1;\n\n\n  return Array.from(new Array(rowEnd-row), (x, i) => i+row);\n}\n\n\nfunction PlaceSessionBlock(block, config, handleSessionClick){\n  var exampleSession= block[0];\n  var time = exampleSession.startTime.split(\":\");\n  var startMinute= parseInt(time[0])*60 + parseInt(time[1]);\n  const row = (((startMinute - config.timeStart)/config.mins_x_block)>>0) + 1;\n\n  var column=exampleSession.day+1;\n\n  const rowEnd= Math.ceil(((startMinute+exampleSession.length -config.timeStart) /config.mins_x_block))+1;\n  const size = rowEnd-row;\n\n  return(<GridContainer key={uuidv4()}  row={row+1} column={column}  size={size}>\n    {\n      block.map((session)=>\n        <GridContainerElement data-testid={session.id} onClick={() => { handleSessionClick(session) }} color= {session.color} draggable=\"true\" \n                onDragStart={event=>dragSession(event, session)}\n                style={{margin: \"0\", padding: \"0\"}}>\n        {sessionToString(session)}\n        </GridContainerElement>\n      )\n    }\n    </GridContainer>\n  );\n}\n\n\nfunction populateGrid(params, sessions, handleSessionClick) {\n    const populated=[];\n    var sessionsByTimeblocks={};\n    sessions.forEach(session => {\n        var timeBlocks = getTimeBlocksOfSession(session);\n        var key= session.day + \"-\" + timeBlocks[0] + \"-\" + timeBlocks[timeBlocks.length-1];\n        if (!(key in sessionsByTimeblocks)){\n          sessionsByTimeblocks[key]=[];\n        }\n        sessionsByTimeblocks[key].push(session);\n\n        // populated.push(placeSession(session, params, handleSessionClick));\n    });\n    for (const [key, value] of Object.entries(sessionsByTimeblocks)) {\n      \n      populated.push(PlaceSessionBlock(value, params, handleSessionClick, key));\n    }\n\n    return populated;\n}\n\nfunction populateTimeColumn(params){\n    const startHour= (params.timeStart/60)>>0 ;\n    const hourSize= Math.ceil(60/params.mins_x_block);\n    return Array.from(Array(params.divisions/hourSize).keys())\n    .map((n) =>\n    <GridTimeElement size={hourSize} row={n*hourSize+2} column={1}>{\"\"+ (startHour+ n ) + \":00\"}</GridTimeElement>\n  );\n}\n\nconst days={\n    1:\"Lunes\",\n    2:\"Martes\",\n    3:\"Mircoles\",\n    4:\"Jueves\",\n    5:\"Viernes\",\n    6:\"Sbado\",\n    7:\"Domingo\"\n};\n\nfunction populateDaysRow(){\n    return Array.from(Array(7).keys())\n    .map((n) =>\n    <GridDayElement row={1} column={n+2}>{days[n+1]}</GridDayElement>\n  );\n}\n\n\nfunction allowDrop(ev) {\n  ev.preventDefault();\n}\n\n\nfunction drawRowLines(params, dropFunction){\n\n   const divs = (params.divisions+1)*8;\n   \n\n    return Array.from(Array(divs).keys())\n    .map((n) =>\n    <GridLinesComponent data-testid={(((n/8)>>0) +1).toString() + \"-\" + (n%8 +1).toString()} row={((n/8)>>0) +1} column={n%8 +1} onDrop={event => dropFunction(event, n, params)} onDragOver={event =>allowDrop(event)}/>\n  );\n}\n\nfunction compareSessions(session1, session2){\n  return session1.id === session2.id;\n}\n\n\nfunction generateSessionFromDrop(data){\n\n  var session={\n    type: \"session\",\n    id: data.id,\n    origin: \"drag&drop - session\",\n    length: data.length,\n    color: data.color,\n    subjectName: data.subjectName,\n    groupName: data.groupName,\n    room: data.room,\n    teacher: data.teacher\n  };\n  return session;\n}\n\nfunction FormatGroupData(data){\n  var defaultData= data.defaultSessionValues;\n  defaultData[\"groupName\"]= data.groupName;\n  defaultData[\"subjectName\"] = data.subjectName;\n  defaultData[\"type\"] = \"group\";\n  return defaultData;\n}\n\nexport default class Timetable extends React.Component {\n  static contextType = RepositoryContext;\n    constructor(props) {\n        super(props);\n        \n        this.state = {mins_x_block: props.mins_x_block,\n                      divisions: props.scheduleSize/props.mins_x_block,\n                      timeStart: props.timeStart,\n                      };\n        this.drop = this.drop.bind(this);\n        this.getScheduleInformation = this.getScheduleInformation.bind(this);\n        \n        this.handleSessionClick= this.handleSessionClick.bind(this);\n      }\n    \n    handleSessionClick(session) {\n      this.props.handleSessionClick(session);\n    }\n\n    getScheduleInformation(session, block_id){\n\n      const day = block_id%8;\n      const start= (((block_id/8)>>0)-1) *this.state.mins_x_block + this.state.timeStart;\n\n\n      const end=  start + session.length;\n\n      var daySessions= this.props.sessions.filter(s => (day === s.day && !compareSessions(s, session)));\n      var conflictSessions= daySessions.filter(s => (s.startMinute > start && s.startMinute <end));\n\n      var information ={\n        schedulable: conflictSessions.length===0,\n        startMinute: start\n      };\n      \n      return information;\n    }\n\n\n    drop(ev, id, config) {\n      ev.preventDefault();\n      console.log(\"data\");\n\n      var data = JSON.parse(ev.dataTransfer.getData(\"text\"));\n      console.log(data);\n      \n  \n      if(data.type === \"group\"){\n        data = FormatGroupData(data);\n        data[\"type\"] = \"group\";\n      }\n\n      var session = generateSessionFromDrop(data);\n      var startMinute= (((id/8)>>0)-1) *config.mins_x_block + config.timeStart;\n\n      var hours= Math.floor(startMinute/60);\n      var minutes= startMinute%60;\n\n      hours= hours>9? hours: \"0\"+hours;\n      minutes= minutes>9? minutes: \"0\"+minutes;\n\n      var startTime =  hours+ \":\" + minutes;\n      \n      session[\"startTime\"] = startTime;\n      session[\"day\"]=id%8;\n\n      var schedulableInformation= this.getScheduleInformation(session, id);      \n\n      if (schedulableInformation.schedulable===true){\n\n        if (data.type ===\"session\"){  \n          this.props.updateSession(session);\n        }else if(data.type === \"group\"){\n          this.props.createSession(session);\n        }\n\n      }\n\n    }\n    render() {\n      return (\n        <div>\n        <TimetableGrid divisions= {this.state.divisions}>\n              {drawRowLines(this.state, this.drop)}\n              {populateDaysRow()}\n              {populateTimeColumn(this.state)}\n              {populateGrid(this.state, this.props.sessions, this.handleSessionClick)}\n        </TimetableGrid>\n        </div>\n      );\n    }\n  }","import styled from 'styled-components';\n\n\n\nexport const SubjectMain= styled.div`\n  display: flex;\n  flex-direction: column; \n  width: 100%;\n\n  margin: 0.5rem 0 0 0;\n`;\n\nexport const SubjectTitle = styled.button`\n\n    background: ${props => props.color};\n    justify-content: center;\n    \n    border-radius: ${props => props.ButtonCornersRadius? \"4px 4px 4px 4px\":\"4px 4px 0 0\"}; \n    padding: 0.4em;\n    outline: none;\n    border: none;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: white;\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        background: #6cd1b6;\n        color: #010606;\n    }\n`;\n\n\nexport const SubjectGroupsList= styled.div`\n    display: ${props => props.show? \"flex\":\"none\"};\n    flex-direction: column; \n    width: 100%;\n    background: #EFEFEF;\n    border-radius: 0 0 4px 4px;\n`;\n\nexport const GroupElement = styled.button`\n\n    background: ${props => props.group.color};\n    justify-content: center;\n    padding: 0.1em;\n    outline: none;\n    border: none;\n    margin: 0.5vh;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: white;\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        filter: brightness(85%);\n    }\n`;\n\nexport const AddGroupButton = styled.button`\n\n    background: #FFFFFF;\n    justify-content: flex-end;\n    padding: 0.4rem;\n    outline: none;\n    border: none;\n    margin: 2%;\n    border-radius: 0 0 4px 4px;\n\n    &:hover {\n        transition: all 0.2s ease-in-out;\n        filter: brightness(85%);\n    }\n`;","import React from 'react'\nimport {SubjectMain, SubjectTitle, SubjectGroupsList, GroupElement} from './SubjectElements';\n\nfunction drag(ev, group) {\n  ev.dataTransfer.setData(\"text\",JSON.stringify(group));\n}\n\n\n\nfunction ListGroups(params) {\n    return  params.map((group) =>\n    <GroupElement data-testid={\"subjectGroup-\"+group.groupName} group={group} draggable=\"true\" onDragStart={event=>drag(event, group)} id={group.id}>{group.groupName}</GroupElement>\n  );\n}\n\n\nexport default class Subject extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {subject: props.subject,\n                  showGroups: false};\n\n    this.handleSubjectTitleClick= this.handleSubjectTitleClick.bind(this);\n  }\n\n  handleSubjectTitleClick() {\n    this.setState({\n        showGroups: !this.state.showGroups\n      });\n  }\n\n  render() {\n    return (\n        <SubjectMain>\n        <SubjectTitle data-testid={\"subject-\"+this.state.subject.subjectName} onClick={this.handleSubjectTitleClick} ButtonCornersRadius= {!this.state.showGroups} color = {this.state.subject.color}>\n        {this.state.subject.subjectName}\n        </SubjectTitle>\n        <SubjectGroupsList show={this.state.showGroups}>\n            {ListGroups(this.state.subject.groups)}\n        </SubjectGroupsList>\n      </SubjectMain>\n    )\n  }\n}","import styled from 'styled-components';\n\n\nexport const FlexForm= styled.form`\n  display: flex;\n  flex-direction: column; \n  justify-content: space-around;\n\n  margin: 0 0.5em 2vh 0.5em;\n  `;\n\nexport const SessionInput= styled.input`\n  width:100%;\n  margin-bottom: 0.5em;\n`;\n\n\nexport const NotificationsButtonsContainer= styled.div`\n\n  display: flex;\n  flex-direction: row;\n  margin: 5%;\n  justify-content: space-around; \n  align-items: center;\n\n`;\n\n/*\nexport const FormButton = styled.button`\n  border-radius: 4px;\n  background: ${props => props.color || \"#EFEFEF\"};\n  padding: 0.5rem 5%;\n  color: #FFFF;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #6cd1b6;\n    color: #010606;\n  }\n`;\n*/\n\nexport const FormSubmit = styled.input`\nborder-radius: 4px;\nbackground: ${props => props.color };\npadding: 0.5rem 2rem;\nmargin:0;\ncolor: #FFFF;\noutline: none;\nborder: none;\ncursor: pointer;\ntransition: all 0.2s ease-in-out;\ntext-decoration: none;\n&:hover {\n  transition: all 0.2s ease-in-out;\n  background: #6cd1b6;\n  color: #010606;\n}\n\n`;\n\n","import React from 'react';\nimport {FlexForm, FormSubmit, SessionInput} from './SessionFormElements'\n\nimport {spanish} from '../../translations/Spanish'\n\n\nfunction showRooms(rooms, handleChange, defaultRoom, field){\n\n    const listRooms = rooms.map((room) =>\n    <option key={room.name} value={JSON.stringify(room)} selected={room.name===defaultRoom.name}>{room.name}</option>\n  );\n  return (\n    <select data-testid={field+\"Selector\"} name={field+\"selector\"} id={field} defaultValue={defaultRoom} onChange={e=>{handleChange(e, field)}} style={{marginBottom: \"0.5em\"}}>\n        {listRooms}\n    </select>\n  );\n}\n\nconst week=[\"\", \"Lunes\", \"Martes\", \"Mircoles\", \"Jueves\", \"Viernes\", \"Sbado\", \"Domingo\"];\nfunction showWeekdays(selectedDay, handleChange){\n    const listDays = Array.from(new Array(7), (x, i) => i+1).map((day) =>\n                        <option value={parseInt(day)}>{week[day]}</option>\n                );\n  return (\n    <select data-testid=\"sessionDayInput\" name=\"days\" id=\"days\" defaultValue={parseInt(selectedDay)} onChange={e=> {handleChange(e, \"day\")}} style={{marginBottom: \"0.5em\"}}>\n        {listDays}\n    </select>\n  );\n}\n\nexport default class SessionForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state={};\n        this.onChangeField= this.onChangeField.bind(this);\n        this.onChangeCheckbox= this.onChangeCheckbox.bind(this);\n\n        if (this.props.selectedSession){\n            this.state={\n                id: this.props.selectedSession.id,\n                subjectName: this.props.selectedSession.subjectName,\n                groupName: this.props.selectedSession.groupName,\n                startTime: this.props.selectedSession.startTime,\n                length: this.props.selectedSession.length,\n                day: this.props.selectedSession.day,\n                room: this.props.selectedSession.room,\n                teacher: this.props.selectedSession.teacher,\n                color: this.props.selectedSession.color\n            }\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.updateStateFromSession = this.updateStateFromSession.bind(this);\n        this.onUnavailability = this.onUnavailability.bind(this);\n    }\n    onUnavailability(){\n\n    }\n    updateStateFromSession(session){\n        this.setState({\n                id: session.id,\n                subjectName: session.subjectName,\n                groupName: session.groupName,\n                startTime: session.startTime,\n                length: session.length,\n                day: session.day,\n                room: session.room,\n                teacher: session.teacher,\n                color: session.color\n            }\n        );\n        if (this.state.id){\n            this.props.checkAvailability(this.state);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.selectedSession !== this.props.selectedSession) {\n          this.updateStateFromSession(this.props.selectedSession);\n          if (this.props.selectedSession.id){\n            this.props.checkAvailability(this.state);\n          }\n        }\n\n        if (prevProps.rooms !== this.props.rooms){\n            if (!this.props.rooms.map(t => t.name).includes(this.state.room.name)){\n                this.setState({\n                    room: {\n                        name: \"Sin Asignar\",\n                        checkConcurrency: false\n                    }\n                });\n            }\n        }\n\n        if (prevProps.teachers !== this.props.teachers){\n\n            if (!this.props.teachers.map(t => t.name).includes(this.state.teacher.name)){\n                this.setState({\n                    teacher: {\n                        name: \"Sin Asignar\",\n                        checkConcurrency: false\n                    }\n                });\n\n            }\n        }\n\n    }\n\n    componentDidMount(){\n        if (this.state.id){\n            this.props.checkAvailability(this.state);\n        }\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        var session={\n            id: this.state.id,\n            subjectName: this.state.subjectName,\n            groupName: this.state.groupName,\n            length: this.state.length,\n            room: this.state.room,\n            teacher: this.state.teacher,\n            color: this.state.color,\n            day: this.state.day,\n            startTime: this.state.startTime\n        }\n\n        this.props.updateSession(session);\n        this.setState({\n            id: null\n        });\n    }\n\n    onChangeField(event, field){\n        if (field===\"day\"){\n            this.setState({day: parseInt(event.target.value)},\n            ()=>{this.props.checkAvailability(this.state)});\n        }\n        else if ([\"room\", \"teacher\"].includes(field)){\n            this.setState({[field]: JSON.parse(event.target.value)});\n        }else{\n        this.setState({[field]: event.target.value ===\"\"? 0:event.target.value}\n            ,()=>{\n                if ([\"length\", \"startTime\"].includes(field)){\n                    this.props.checkAvailability(this.state);\n                }\n            });\n        }\n    }\n\n    onChangeCheckbox(field){\n        this.setState(prevState => ({[field]: !prevState[field]}));\n    }\n\n    render(){\n\n        if (this.state.id){\n\n        return (\n            <div>\n            <FlexForm onSubmit={this.handleSubmit}>\n                <label>\n                    {spanish.subject}\n                </label>\n                <SessionInput data-testid=\"sessionSubjectInput\" disabled type=\"text\" name=\"subject\" value={this.state.subjectName} onChange= {event => {this.onChangeField(event,\"subjectName\")}}/>\n                <label>\n                    {spanish.group}\n                </label>\n                <SessionInput data-testid=\"sessionGroupInput\" disabled type=\"text\" name=\"group\" value={this.state.groupName}  onChange= {event => {this.onChangeField(event,\"groupName\")}}/>\n                <label>\n                    {spanish.color}\n                </label>\n                <SessionInput data-testid=\"colorInput\" type=\"color\" name=\"color\" value={this.state.color}  onChange= {event => {this.onChangeField(event,\"color\")}}/>\n                \n                <label>\n                    {spanish.day}\n                </label>\n                {showWeekdays(this.state.day, this.onChangeField)}\n                <label>\n                    {spanish.startTime}\n                </label>\n                <SessionInput data-testid=\"startTimeInput\" type=\"time\" name= \"start\" min=\"08:00\" max=\"21:00\" value={this.state.startTime} onChange= {event => {this.onChangeField(event,\"startTime\");}}></SessionInput>\n                \n                <label>\n                    {spanish.length}\n                </label>\n                <SessionInput data-testid=\"lengthInput\" type=\"number\" name=\"length\"  value={this.state.length}  onChange= {event => {this.onChangeField(event,\"length\");}}/>\n                <label>\n                    {spanish.classRoom}\n                </label>\n                {showRooms(this.props.rooms, this.onChangeField, this.state.room, \"room\")}\n                <label>\n                    {spanish.teacher}\n                </label>\n                {showRooms(this.props.teachers, this.onChangeField, this.state.teacher, \"teacher\")}\n                <br/>\n                <FormSubmit data-testid=\"submitButton\" color = \"#2DA283\" type=\"submit\" value={spanish.update}/>\n            </FlexForm>\n\n            </div>\n        );\n        }else{\n            return null;\n        }\n    }\n\n}\n\n/*----NOTIFICATIONS FRAGMENT- GOES RIGHT BELOW SUBMIT BUTTON-----\n            <h4 style={{textAlign: \"center\"}}>Notificaciones</h4>\n            <NotificationsButtonsContainer>\n            <FormButton color = \"#2DA283\">\n                ver\n            </FormButton>\n            <FormButton color = \"#2DA283\">\n                aadir\n            </FormButton>\n            </NotificationsButtonsContainer>\n\n            ----------------------------------------\n*/\n\n\n//DONE: CRUD profesores\n//DONE: preparar concurrencia profesores\n//DONE: session form concurrencia profesores\n//DONE: concurrencia desde horario\n//DONE: Borrar asignaturas\n//DONE: Aadir bloques al check de ocupacin (son 52 bloques - 13X4 - no 48 - 12X4)\n//DONE: Creacin sesiones desde vista de Asignaturas\n//DONE: Varias sesiones en un mismo segmento de tiempo\n//DONE: Validaciones inputs\n//DONE  Casos: S1 > S2 -> S1 se dibuja debajo de S2\n//DONE         S1 = S2 -> Comparten celda\n\n//DONE: Add titulaciones\n//DONE: Check colisiones al cambiar asignatura de semestre !!!\n//NOPE: Desasignar aulas/profesores al borrarlos\n//TODO: AUTENTICACIN","import React from 'react';\nimport { LateralMenu, MenuHeader, MenuBody, SpaceBetweenMenu, CentralMenu, Footer, PageHeader} from '../PagesElements';\nimport Timetable from '../../components/Timetable'\nimport Subject from '../../components/Subject'\nimport SessionForm from '../../components/SessionForm';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\n\nimport {MyLoader} from '../PagesElements.js';\n\nimport {spanish} from '../../translations/Spanish'\n\n\nfunction addElementToCollection(col, elem){\n  const index = col.map(r=>(r.name)).indexOf(elem.name);\n  if (index < 0) {\n    return [...col, elem];   \n  }\n  return col;\n}\n\n\nfunction ListSubjects(params) {\n  return  params.map((subject) =>\n  <Subject subject={subject}></Subject>\n);\n}\n\nfunction TitlesDropdown(titles, onChange){\n  return(  \n  <React.Fragment>\n\n    <select data-testid=\"titleSelector\" name=\"titles\" id=\"titles\" onChange={(e)=>{onChange(e.target.value);}}>\n      <option value={null}>{spanish.SelectTitlePlaceholder}</option>\n      {\n          titles.map((title) =>\n          <option data-testid=\"titleOption\" value={JSON.stringify(title)}>{title.titleName}</option>\n          )\n      }\n    </select>\n  </React.Fragment>\n  );\n\n}\n\nfunction SemesterDropdown(semesters, onChange, defaultValue){\n  return(  \n  <React.Fragment>\n\n    <select data-testid=\"semesterSelector\" name=\"semesters\" id=\"semesters\" defaultValue={parseInt(defaultValue)} onChange={(e)=>{onChange(e.target.value);}}>\n      <option value={0}>{spanish.SelectSemesterPlaceholder}</option>\n      {\n          Array.from(new Array(semesters), (x, i) => i + 1).map((sem) =>\n          <option value={parseInt(sem)}>{sem}</option>\n          )\n      }\n    </select>\n  </React.Fragment>\n  );\n\n}\n\nfunction chooseColor(type){\n  switch(type){\n    case \"error\":\n      return \"#bf1e1e\";\n    case \"warning\":\n      return \"#ccb406\";\n    default:\n      return \"#2ca062\";\n  }\n}\n\nexport default class Horario extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.handleSessionClick = this.handleSessionClick.bind(this);\n    this.state={\n      loading: false,\n      sessions: [],\n      subjects: [],\n      titles:[],\n      rooms:[],\n      teachers:[],\n      selectedSession:{},\n      footerMsg: {type: \"success\", msgs: [props.msg? props.msg: \"\"], header: \"\"},\n      selectedTitle: null,\n      selectedSemester:0\n    };\n    this.setFooterMsg= this.setFooterMsg.bind(this);\n\n    this.setLoading = this.setLoading.bind(this);\n    this.setSessions = this.setSessions.bind(this);\n    this.updateSession = this.updateSession.bind(this);\n    this.createSession = this.createSession.bind(this);\n\n    this.updateDroppedSession = this.updateDroppedSession.bind(this);\n\n    this.setSubjects = this.setSubjects.bind(this);\n\n    this.setTitles = this.setTitles.bind(this);\n    this.selectTitle = this.selectTitle.bind(this);\n    this.selectSemester = this.selectSemester.bind(this);\n\n    this.setRooms= this.setRooms.bind(this);\n\n    this.setTeachers= this.setTeachers.bind(this);\n    this.getTimeBlocksOfSession= this.getTimeBlocksOfSession.bind(this);\n\n    this.compareAvailabilityFactors = this.compareAvailabilityFactors.bind(this);\n    this.showError = this.showError.bind(this);\n\n    this.checkAvailability= this.checkAvailability.bind(this);\n\n  }\n\n  showError(err){\n    this.setLoading(false);\n    this.setFooterMsg({\n      header: \"Ha ocurrido un error\",\n      msgs:[err],\n      type: \"error\"\n    });\n  }\n\n  compareAvailabilityFactors(session1, session2){\n    var timeBlocks1 = this.getTimeBlocksOfSession(session1);\n    var timeBlocks2 = this.getTimeBlocksOfSession(session2);\n    return (session1.day ===session2.day &&\n            timeBlocks1.some(r=> timeBlocks2.indexOf(r) >= 0));\n  }\n\n  handleSessionClick(clickedSession){\n    this.setState({ \n      selectedSession: clickedSession,\n      rooms: [clickedSession.room],\n      teachers: [clickedSession.teacher]});\n  }\n  \n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n  setSessions(_sessions){\n    this.setState({sessions: _sessions,\n                   selectedSession: null});\n  }\n  \n  async updateDroppedSession(session){\n    this.context.checkDisponibilityForSession(session, this.state.selectedSemester, (availability)=>{\n      \n      var unavailableResource={name: \"Sin Asignar\", checkConcurrency: false};\n      var footerMsg= {\n        header: \"Sesin de \" + session.subjectName + \" - \" + session.groupName,\n        msgs:[],\n        type: \"success\"\n      }\n\n      if(!availability.teacher || !availability.room){\n        footerMsg.header = footerMsg.header + spanish.updateMsgs.noCollision;\n        footerMsg.type= \"warning\";\n\n        if (!availability.room){\n          footerMsg.msgs.push(spanish.classRoom + \": \" + session.room.name + \" -> \" + unavailableResource.name + \".\");\n          session.room = unavailableResource;\n        }\n        if(!availability.teacher){\n          footerMsg.msgs.push(spanish.teacher + \": \" + session.teacher.name + \" -> \" + unavailableResource.name + \".\");\n          session.teacher= unavailableResource;\n        }\n      }else{\n        footerMsg.header = footerMsg.header + spanish.updateMsgs.withCollision;\n      }\n      this.updateSession(session, this.setFooterMsg(footerMsg));\n    });\n  }\n  updateSession(session, callback){\n    this.context.updateSession(session, ()=> {\n      if (callback){\n        callback();\n      }\n      this.context.loadSessionsOfSubjects(this.state.subjects.map(s=> s.subjectName), this.setSessions);\n    }, this.state.selectedSemester\n  );\n  }\n  createSession(session){\n    this.context.createSession(session, ()=> {\n      if (this.state.subjects.length>0){\n        var subjectNames= this.state.subjects.map((subject)=> subject.subjectName);\n        this.context.loadSessionsOfSubjects(subjectNames, this.setSessions);\n      }\n      }\n    );\n  }\n\n  setSubjects(_subjects){\n    this.setState({subjects: _subjects});\n\n    var subjectNames= _subjects.map((subject)=> subject.subjectName);\n    \n    if (_subjects.length>0){\n      this.context.loadSessionsOfSubjects(subjectNames, this.setSessions);\n    }\n    \n  }\n\n  setTitles(_titles){\n    this.setState({titles: _titles});\n  }\n  selectTitle(_title){\n    try {\n      var parsed = JSON.parse(_title);\n\n      this.setState(\n        {selectedTitle: parsed,\n          subjects: [],\n          sessions: [],\n          selectedSession:{}\n        });\n  \n      var search= {titleName: parsed.titleName, semester: parseInt(this.state.selectedSemester)};\n\n      this.context.loadSubjectsOfTitle(search, this.setSubjects);\n    } catch(e) {\n      this.setState(\n        {selectedTitle: null,\n          selectedSemester: 0,\n          subjects: [],\n          sessions: [],\n          selectedSession:{}\n        });\n    }\n  }\n\n  selectSemester(semester){\n    this.setState(\n      {\n        selectedSemester: semester,\n        subjects: [],\n        sessions: [],\n        selectedSession:{}\n      });\n\n      var search= {titleName: this.state.selectedTitle.titleName, semester: parseInt(semester)};\n      this.context.loadSubjectsOfTitle(search, this.setSubjects);\n  }\n\n  setFooterMsg(msg){\n    this.setState({\n      footerMsg: msg\n    });\n  }\n  setRooms(_rooms){\n    this.setState({rooms: _rooms});\n  }\n  setTeachers(_teachers){\n    this.setState({teachers: _teachers});\n  }\n\n\n  getTimeBlocksOfSession(session){\n\n    var time = session.startTime.split(\":\");\n    var startMinute= parseInt(time[0])*60 + parseInt(time[1]);\n    const row = (((startMinute - 480)/15)>>0) + 1;\n    const rowEnd= Math.ceil(((startMinute+ parseInt(session.length) -480) /15))+1;\n\n      return Array.from(new Array(rowEnd-row), (x, i) => i+row);\n  }\n\n\n  componentDidMount() {\n    this.context.setLoadingCallback(this.setLoading);\n    this.context.setErrorCallback(this.showError);\n\n    this.context.loadTitles(this.setTitles);\n  }\n\n\n  checkAvailability(session){\n    this.context.getAvailableRooms(this.state.selectedSemester,session.day, this.getTimeBlocksOfSession(session), \n      (rooms) => {\n        if (this.compareAvailabilityFactors(this.state.selectedSession, session))\n        {\n          rooms = addElementToCollection(rooms, session.room);\n        }\n        this.setRooms(rooms);\n      });\n    this.context.getAvailableTeachers(this.state.selectedSemester, session.day, this.getTimeBlocksOfSession(session),\n        (teachers) =>{\n          if (this.compareAvailabilityFactors(this.state.selectedSession, session))\n          {\n            teachers = addElementToCollection(teachers, session.teacher);\n          }\n          this.setTeachers(teachers);\n        });\n  }\n\n  render() {\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text= {spanish.loadingMsg}\n      >\n      <div \n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >\n        <PageHeader>\n          {TitlesDropdown(this.state.titles, this.selectTitle)}\n          {this.state.selectedTitle? SemesterDropdown(this.state.selectedTitle.semesters, this.selectSemester, this.state.selectedSemester): \"\"}\n        </PageHeader>\n          <SpaceBetweenMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>{spanish.subjects}</h2>\n              </MenuHeader>\n              <MenuBody>\n                {ListSubjects(this.state.subjects)}\n              </MenuBody>\n            </LateralMenu>\n            <CentralMenu>\n              <Timetable timeStart={480} scheduleSize={780} mins_x_block={15} \n                          sessions= {this.state.sessions} \n                          handleSessionClick={this.handleSessionClick}\n                          updateSession={this.updateDroppedSession}\n                          createSession = {this.createSession}>\n              </Timetable>\n            </CentralMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>Sesin</h2>\n              </MenuHeader>\n              <MenuBody>\n                <SessionForm key={this.state.selectedSession? this.state.selectedSession.id:null}\n                              id ={this.state.selectedSession? this.state.selectedSession.id:null} \n                              selectedSession={this.state.selectedSession}\n                              updateSession = {this.updateSession}\n                              rooms={this.state.rooms}\n                              teachers={this.state.teachers}\n                              checkAvailability={this.checkAvailability}>\n                </SessionForm>\n              </MenuBody>\n            </LateralMenu>     \n          </SpaceBetweenMenu>\n          <Footer style={{color: chooseColor(this.state.footerMsg.type)}}> \n          <b>{this.state.footerMsg.header}</b>\n          {\n            this.state.footerMsg.msgs.map(msg=>\n              <p>{msg}</p>\n            )\n          }\n          </Footer>\n        </div>\n      </MyLoader>\n    );\n  };\n  \n}\n","import styled from 'styled-components';\n\n\nexport const ModalBase= styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width:100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n`;\nexport const ModalContent= styled.div`\n  position:fixed;\n  background: white;\n  width: ${props => props.width? props.width: \"40%\"};\n  height: auto;\n  top:50%;\n  left:50%;\n  transform: translate(-50%,-50%);\n  padding: 0 1%;\n`;\n","import React from \"react\";\nimport { Button } from \"../../pages/PagesElements\";\nimport { ModalBase, ModalContent } from \"./ModalElements\";\n\n\n\nexport default class Modal extends React.Component {\n\n  render() {\n      if(!this.props.show){\n          return null;\n      }\n      return (\n        <ModalBase>\n            <ModalContent width= {this.props.width}>\n            <div>\n                <Button\n                onClick={this.props.onClose}\n                >\n                <b>X</b>\n                </Button>\n            </div>\n            <div>{this.props.children}</div>\n            </ModalContent>\n        </ModalBase>\n      );\n  }\n}\n  ","import styled from 'styled-components';\n\nexport const FullBody = styled.div`\n\n    display: flex;\n    flex-direction: row;\n    align-items: bottom; \n    \n\n    white-space: nowrap;\n    justify-content: ${props => props.justify? props.justify: \"stretch\"}; \n\n`;\n\nexport const FormGroup = styled.div`\n\n    width:${props => props.width};\n    margin: ${props => props.margin? props.margin: \"0\"};\n\n    @media screen and (max-width: 1024px) {\n        height: 100%;\n        width:100%;\n        margin: 1%;\n    }\n`;\n\n\nexport const FormBody = styled.form`\n\n    display:flex;\n    flex-direction:column;\n\n    align-items: bottom;\n\n    flex-wrap: ${props => props.wrap? props.wrap: \"nowrap\"};\n\n    height:${props => props.height? props.height: \"auto\"};\n    width:${props => props.width? props.width: \"auto\"};\n    max-width: ${props => props.width? props.width: \"auto\"};\n    overflow: ${props => props.overflow? props.overflow: \"none\"};\n    overflow-x: ${props => props.overflowx? props.overflowx: \"hidden\"};\n    overflow-y: ${props => props.overflowy? props.overflowy: \"hidden\"};\n\n    margin: ${props => props.margin? props.margin: \"0.5vh 0 1vh 0\"};\n    border: ${props => props.border? props.border: \"\"};\n    border-radius: 0 0 10px 10px;\n\n\n`;\n\nexport const EmptySpace=styled.div`\n    height: 6.5vh;\n`;\n\nexport const Header= styled.div`\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    background: #EFEFEF;\n    color: #00000;\n\n    border-radius: 10px 10px 0 0;\n    justify-content: center;\n    padding: 5px 11px;\n`;\n\nexport const FormElementGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n    margin: ${props => props.margin? props.margin: \"0.5vh\"};\n`;\n\nexport const StyledInput= styled.input`\n  border-radius: \"4px\";\n  margin: ${props => props.margin? props.margin: \"0.5vh\"};\n  margin-bottom: 0.5em;\n`;\n\nexport const StyledLabel= styled.label`\n  margin: ${props => props.margin? props.margin: \"0.5vh\"};\n`;\n\nexport const RowBody=styled.div`\n    display:flex;\n    flex-direction:row;\n    margin: 0.5vh 0 1vh 0;\n\n    border: 1px solid #EFEFEF;\n\n    border-radius: 0 0 10px 10px;\n    height:${props => props.height? props.height: \"auto\"};\n    width:${props => props.width? props.width: \"auto\"};\n`;\n\nexport const ColorButton= styled.button`\n    display:block;\n    text-align:center;\n    height:${props => props.height? props.height: \"auto\"};\n    width:${props => props.width? props.width: \"auto\"};\n    border-radius: 4px;\n    background: ${props => props.color || \"#EFEFEF\"};\n    padding: ${props => props.padding || \"0\"};\n    margin: ${props => props.margin || \"0\"};\n\n\n    color: #FFFF;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    transition: all 0.2s ease-in-out;\n    text-decoration: none;\n    &:hover {\n    transition: all 0.2s ease-in-out;\n    filter: brightness(125%);\n    }\n`;\n\n\nexport const StyledInputButton= styled.input`\n    display:block;\n    text-align:center;\n    height:${props => props.height? props.height: \"auto\"};\n    width:${props => props.width? props.width: \"auto\"};\n    border-radius: 4px;\n    background: ${props => props.color || \"#EFEFEF\"};\n    margin: 5%;\n    color: #FFFF;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    transition: all 0.2s ease-in-out;\n    text-decoration: none;\n    &:hover {\n    transition: all 0.2s ease-in-out;\n    filter: brightness(125%);\n    }\n`;","import React from 'react'\nimport Modal from '../Modal';\n\nimport {FullBody, Header, FormBody, FormGroup, StyledInput, ColorButton, StyledLabel, FormElementGroup} from './SubjectFormElements';\nimport {spanish} from '../../translations/Spanish'\n\n\nfunction GroupButtonList(subject, onSelectGroup){\n    return subject.groups\n    .map((group) =>\n    <ColorButton type=\"button\" color = {group.color} padding=\"1vh\" margin=\"1%\" onClick={()=>{onSelectGroup(group)}}>{group.groupName}</ColorButton>\n  );\n}\n\nfunction sessionToString(session){\n    return <p style={{overflow: \"hidden\",\n                     textOverflow: \"ellipsis\"}}>\n           {session.groupName} | {\"\"+ session.length + \" mins\"} | {session.room.name}\n    </p>;\n  }\nfunction SessionButtonList(sessions, onSelectSession, onDelete){\n    return Array.from(sessions)\n    .map((session) =>\n    <div style={{display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\"}}>\n        <ColorButton data-testid={\"session-\"+session.id} color = {session.color} style={{width: \"100%\"}} padding=\"0.5vh\" margin=\"1%\" onClick={(event)=>{event.preventDefault(); onSelectSession(session)}}>{sessionToString(session)}</ColorButton>\n        <ColorButton data-testid={\"deleteSession-\"+session.id} color = {\"#c94242\"} padding=\"0.5vh\" margin=\"1%\" onClick={(event)=>{event.preventDefault(); onDelete(session)}}>{spanish.delete}</ColorButton>\n    </div>\n    \n  );\n}\n\nfunction SubjectFormGroup(subject, onChangeField, onSelectGroup, updateSubject, showModal, showTitles, deleteSubject){\n    return (<FormGroup width=\"25vw\" height=\"74vh\">\n                <Header>\n                    <h2>{spanish.subject}</h2>\n                </Header>\n                    <FormBody height=\"36vh\" overflowy= \"auto\" style={{\"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                        <FormElementGroup>\n                            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.name}</StyledLabel>\n                            <StyledInput disabled margin= \"0 0.5vw 0 0.5vw\"  type=\"text\" name=\"subject\" data-testid={\"subjectInput\"} value={subject.subjectName} onChange= {event => {onChangeField(event,\"subjectName\", \"selectedSubject\")}}/>\n                        </FormElementGroup>\n\n                        <FormElementGroup>\n                            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n                            <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"color\" name=\"color\" value={subject.color} data-testid={\"colorInput\"} onChange= {event => {onChangeField(event,\"color\", \"selectedSubject\")}}/>\n                        </FormElementGroup>\n                        <FormElementGroup>\n                            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.semester}</StyledLabel>\n                            <select name=\"semesters\" defaultValue={subject.semester} data-testid={\"semesterSelector\"} onChange={(e)=>{onChangeField(e,\"semester\", \"selectedSubject\"); onChangeField({target:{value: []}}, \"titles\", \"selectedSubject\")}}>\n                                    <option value={1}>1</option>\n                                    <option value={2}>2</option>\n                            </select>\n                        </FormElementGroup>\n                        <FormElementGroup>\n                            <ColorButton color = \"#2DA283\" margin= \"0 0.5vw 0 0.5vw\" padding=\"0.5rem 1rem\" width=\"fit-content\"\n                                             onClick= {event => {event.preventDefault(); showTitles()}}>{spanish.RelatedTitles}</ColorButton>                        </FormElementGroup>\n\n\n                    <div style ={{display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", margin: \"1vh 0 0.5vh 0\"}}>\n                        <ColorButton color = \"#db3f3f\" margin=\"0 1vw\" padding=\"0.5rem 1rem\"   width=\"fit-content\" data-testid=\"deleteSubject\"\n                                            onClick={event=>{event.preventDefault(); deleteSubject(subject);}}>{spanish.delete}</ColorButton>\n                        <ColorButton color = \"#2DA283\" margin=\"0 1vw\" padding=\"0.5rem 1rem\" width=\"fit-content\"\n                                             onClick= {event => {event.preventDefault(); updateSubject(subject)}} data-testid=\"updateSubject\">{spanish.update}</ColorButton>\n                    </div>\n                    </FormBody>\n                    \n                    <Header>\n                        <h2>{spanish.groups}</h2>\n                    </Header>\n                    <FormBody height=\"27.5vh\" overflow=\"scroll\" overflowy=\"scroll\" margin=\"0.5vh 0 0 0\" border=\"1px solid #EFEFEF\">\n                        {GroupButtonList(subject, onSelectGroup)}\n                        <ColorButton data-testid=\"addGroupButton\" disabled={subject.groups.length>9} color = \"#2DA283\" padding=\"1vh\" margin=\"2%\" onClick={(e)=> {e.preventDefault(); showModal(\"group\")}}>+</ColorButton>\n                    </FormBody>\n            </FormGroup>);\n}\n\nfunction GroupFormGroup(group, sessions, onChangeField, onSelectSession, onChangeCheckBox, showModal, onDeleteSession, onDeleteGroup, subject, checkAvailability){\n    return (<FormGroup width=\"40vw\" margin=\"0 0 0 1.5vw\">\n\n                <Header>\n                    <h2>{spanish.group}</h2>\n                </Header>\n                <FormBody height=\"36vh\" overflowy=\"auto\" style={{    \"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.name}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" data-testid=\"groupSubjectInput\" disabled type=\"text\" name=\"subject\" value={group.groupName} onChange= {event => {onChangeField(event,\"subjectName\", \"selectedGroup\")}}/>\n                    </FormElementGroup>\n\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" data-testid=\"groupColorInput\" type=\"color\" name=\"color\" value={group.color} onChange= {event => {onChangeField(event,\"color\", \"selectedGroup\")}}/>\n                    </FormElementGroup>\n                    \n                    <StyledLabel margin= \"0 0.5vw 0 0.5vw\"> <b>{spanish.sessionDefaultValues}</b></StyledLabel>\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" data-testid=\"defaultGroupColorInput\" type=\"color\" name=\"color\" value={group.defaultSessionValues.color} onChange= {event => {onChangeField(event,\"color\", \"selectedGroup\", \"defaultSessionValues\")}}/>\n                    </FormElementGroup>\n\n                    <div style ={{display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", margin: \"0 0 1vh 0\"}}>\n                        <ColorButton color = \"#db3f3f\" margin=\"0 1vw\" padding=\"0.5rem 1rem\"   width=\"fit-content\" onClick={(e)=>{e.preventDefault(); onDeleteGroup(subject, group)}} data-testid=\"groupDelete\">{spanish.delete}</ColorButton>\n                        <ColorButton color = \"#2DA283\" margin=\"0 1vw\" padding=\"0.5rem 1rem\" width=\"fit-content\" data-testid=\"groupUpdate\">{spanish.update}</ColorButton>\n                    </div>\n                </FormBody>\n                <Header>\n                    <h2>{spanish.sessions}</h2>\n                </Header>\n                <FormBody height=\"27.5vh\" overflowy=\"auto\" margin=\"0.5vh 0 0 0\" style={{    \"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                    {SessionButtonList(sessions, onSelectSession, onDeleteSession)}\n                    <ColorButton color = \"#2DA283\" padding=\"1vh\" margin=\"2%\" onClick={(e)=> {e.preventDefault(); showModal(\"session\"); checkAvailability()}}>+</ColorButton>\n\n                </FormBody>\n\n            </FormGroup>);\n}\n\n//checkbox -> select title + semester 1\n//semester -> title is selected, select semester\nfunction TitleInSelectedTitles(title, inSubject, onChangeCheckBox, semester){\n    var selectTitle={titleName: title.titleName, semester: parseInt(title.semester)}\n\n    return(\n            <FormElementGroup data-testid=\"titleModalContent\" style={{flexDirection: \"row\"}}>\n                <StyledInput data-testid={\"checkbox-\" + title.titleName} margin= \"0.5vh 0.5vw 0 0\"  type=\"checkbox\" checked={inSubject} value={inSubject} onChange={event => {onChangeCheckBox(selectTitle, true)}}/>\n                <StyledLabel margin= \"0 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n                <p style={{overflow: \"hidden\", textOverflow: \"ellipsis\"}}>\n                    {title.titleName}\n                </p> \n                </StyledLabel>\n                {inSubject?\n                <React.Fragment>\n                <p> - {spanish.semester}: </p>\n                <select data-testid={\"semesterSelector-\" + title.titleName} name=\"semesters\" defaultValue={semester} onChange={(e)=>{onChangeCheckBox({titleName: title.titleName, semester: parseInt(e.target.value)}, false);}}>\n                    {Array.from(new Array(title.semesters), (x, i) => i + 1).map((sem) =>\n                        (parseInt(sem)%2) === parseInt(semester)%2? <option value={parseInt(sem)}>{sem}</option>: \"\"\n                    )}\n                </select>\n                </React.Fragment>\n                :\"\"\n                }\n            </FormElementGroup>\n    );\n}\n\n\nfunction selectedTitlesOfSubject(titles, selectedTitles, onChangeCheckBox, semester){\n    var selectedTitlesNames = selectedTitles.map( t => t.titleName);\n    return (\n        <FormBody overflowy=\"auto\">\n            <h2>Selected Titles</h2>\n            {titles.map(t =>TitleInSelectedTitles(t, selectedTitlesNames.includes(t.titleName),\n                                                onChangeCheckBox, \n                                                selectedTitlesNames.includes(t.titleName)? \n                                                selectedTitles[selectedTitlesNames.indexOf(t.titleName)].semester:\n                                                0, \n                                                semester))}\n        </FormBody>\n    );\n}\n\n\n\nexport default class SubjectForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state={\n            showTitles: props.showTitles? props.showTitles: false\n        };\n\n        this.showTitles= this.showTitles.bind(this);\n    }\n\n    showTitles(modalContent){\n        this.setState((prevState) =>(\n          {showTitles: !prevState.showTitles,\n          modalContent: modalContent}\n        ));\n      }\n\n\n\n    render(){\n        return(\n            <React.Fragment>\n                <FullBody>\n                    {this.props.selectedSubject? SubjectFormGroup(this.props.selectedSubject, \n                                                                    this.props.onChangeField,\n                                                                    this.props.onSelectGroup, \n                                                                    this.props.updateSubject, \n                                                                    this.props.showModal,\n                                                                    this.showTitles,\n                                                                    this.props.deleteSubject)\n                                                : \"\"}\n                    {this.props.selectedGroup? GroupFormGroup(this.props.selectedGroup, \n                                                            this.props.sessions, \n                                                            this.props.onChangeField, \n                                                            this.props.onSelectSession, \n                                                            this.props.onChangeCheckBox, \n                                                            this.props.showModal,\n                                                            this.props.onDeleteSession, \n                                                            this.props.onDeleteGroup, \n                                                            this.props.selectedSubject, \n                                                            this.props.checkAvailability):\"\"}\n                </FullBody>\n                <Modal width= \"70%\" onClose={this.showTitles} show={this.state.showTitles}>\n                    {this.props.selectedSubject? \n                    selectedTitlesOfSubject(this.props.titles, this.props.selectedSubject.titles, this.props.onSelectTitle, this.props.selectedSubject.semester)\n                    :\"\"}\n                </Modal>\n            </React.Fragment>\n        )\n    }\n\n}","import React from 'react';\nimport { LateralMenu, MenuHeader, MenuBody, SpaceBetweenMenu, Button, CentralMenu, Footer} from '../PagesElements';\nimport SessionForm from '../../components/SessionForm';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\n\nimport {MyLoader} from '../PagesElements.js';\nimport SubjectForm from '../../components/SubjectForm';\nimport { ColorButton, EmptySpace, FormBody, FormElementGroup, StyledInput, StyledLabel } from '../../components/SubjectForm/SubjectFormElements';\nimport Modal from '../../components/Modal';\n\nimport {spanish} from '../../translations/Spanish'\n\nfunction subjectIsValid(subject){\n  return subject.color.length>6 && subject.color!==\"#ffffff\" && subject.subjectName.length>3; \n}\n\nfunction groupIsValid(subject, group){\n  return group.groupName.length>3 && group.color.length>6 && group.color!==\"#ffffff\"\n  && group.defaultSessionValues.color.length>6 && group.defaultSessionValues.color!==\"#ffffff\"\n  && !subject.groups.map(g =>(g.groupName)).includes(group.groupName);\n}\nfunction sessionIsValid(session){\n  return session.length>0;\n}\n\n\nfunction showRooms(rooms, field, handleChange, defaultValue){\n  const listRooms = rooms.map((room) =>\n  <option key={room.name} value={JSON.stringify(room)}>{room.name}</option>\n);\nrooms.forEach(r=>{if (r.name === defaultValue.name) defaultValue=r;});\n\nreturn (\n  <select name={field} id={field} value={JSON.stringify(defaultValue)} onChange={e=>{handleChange(e,field, \"newSession\")}} style={{marginBottom: \"0.5em\"}}>\n      {listRooms}\n  </select>\n);\n}\n\nconst week=[\"\", \"Lunes\", \"Martes\", \"Mircoles\", \"Jueves\", \"Viernes\", \"Sbado\", \"Domingo\"];\nfunction showWeekdays(selectedDay, handleChange, checkAvailability){\n  const listDays = Array.from(new Array(7), (x, i) => i+1).map((day) =>\n                      <option  key={week[day]} value={parseInt(day)}>{week[day]}</option>\n              );\nreturn (\n  <select name=\"days\" id=\"days\" defaultValue={selectedDay} onChange={(event)=>{handleChange(event,\"day\", \"newSession\", null, checkAvailability)}} style={{margin: \"0 0.5vw 0 0.5vw\"}}>\n      {listDays}\n  </select>\n);\n}\n\n\nfunction createEmptyGroup(){\n  return {defaultSessionValues:{color: \"#ffffff\"},\n          color: \"#ffffff\",\n          groupName: \"\"};\n}\n\nfunction createDefaultSession(group){\n  var session = {\n    subjectName: group.subjectName,\n    groupName: group.groupName,\n    color: group.defaultSessionValues.color,\n    teacher: group.defaultSessionValues.teacher,\n    room: group.defaultSessionValues.room,\n    day: 1,\n    length: 45,\n    startTime: \"08:00\"\n  };\n\n  return session;\n}\n\nfunction createEmptySession(){\n  var session = {\n    day: 1,\n    length: 45,\n    startTime: \"08:00\",\n    room: {checkConcurrency: false, name: \"Sin Asignar\"},\n    teacher: {checkConcurrency: false, name: \"Sin Asignar\"}\n  };\n\n  return session;\n}\n\nfunction ListSubjects(params, onSelectSubject) {\n  return  params.map((subject) =>\n  <ColorButton color = {subject.color} padding=\"1vh\" margin=\"2%\" onClick={()=>{onSelectSubject(subject)}}>{subject.subjectName}</ColorButton>\n);\n}\n\nfunction createSubjectForm(subject, onChangeField, createSubject, showModal){\n  return(\n    <React.Fragment>\n      <h2>{spanish.createSubject}</h2>\n      <FormBody>\n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.name}</StyledLabel>\n            <StyledInput data-testid=\"nameInput\" margin= \"0 0.5vw 0 0.5vw\"  type=\"text\" name=\"subject\" value={subject.subjectName} onChange= {event => {onChangeField(event,\"subjectName\", \"newSubject\")}}/>\n        </FormElementGroup>\n  \n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n            <StyledInput data-testid=\"colorInput\" margin= \"0 0.5vw 0 0.5vw\" type=\"color\" name=\"color\" value={subject.color} onChange= {event => {onChangeField(event,\"color\", \"newSubject\")}}/>\n        </FormElementGroup>\n  \n        <div style ={{display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", margin: \"auto\"}}>\n            <ColorButton disabled={!subjectIsValid(subject)}color = \"#2DA283\" margin=\"0 1vw\" padding=\"0.5rem 1rem\"   width=\"fit-content\" onClick={(e)=>{ e.preventDefault(); createSubject(subject); showModal()}}>{spanish.create}</ColorButton>\n        </div>\n      </FormBody>\n    </React.Fragment>\n  );\n  }\n\nfunction createGroupForm(selectedSubject, group, onChangeField,onChangeCheckBox, createGroup, showModal){\n\n  \nreturn (\n  <React.Fragment>\n      <h2>{spanish.createGroup}</h2>\n      <FormBody height=\"36vh\" overflowy=\"auto\" style={{    \"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.name}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"text\" name=\"subject\" value={group.groupName} onChange= {event => {onChangeField(event,\"groupName\", \"newGroup\")}}/>\n                    </FormElementGroup>\n\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"color\" name=\"color\" value={group.color} onChange= {event => {onChangeField(event,\"color\", \"newGroup\")}}/>\n                    </FormElementGroup>\n                    \n                    <StyledLabel margin= \"0 0.5vw 0 0.5vw\"> <b>{spanish.sessionDefaultValues}</b></StyledLabel>\n                    <FormElementGroup>\n                        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n                        <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"color\" name=\"color\" value={group.defaultSessionValues.color} onChange= {event => {onChangeField(event,\"color\", \"newGroup\", \"defaultSessionValues\")}}/>\n                    </FormElementGroup>\n                    <div style ={{display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", margin: \"0 0 1vh 0\"}}>\n                        <ColorButton disabled={!groupIsValid(selectedSubject, group)} color = \"#2DA283\" margin=\"0 1vw\" padding=\"0.5rem 1rem\" width=\"fit-content\" onClick={(e)=>{e.preventDefault(); createGroup(selectedSubject, group); showModal()}}>{spanish.create}</ColorButton>\n                    </div>\n                </FormBody>\n  </React.Fragment>\n);\n}\n\nfunction createSessionForm( selectedGroup, session, onChangeField, onChangeCheckBox, createSession, showModal, rooms, teachers, checkAvailability){\n  \n  return (\n    <React.Fragment>\n      <FormBody>\n        <FormElementGroup>\n        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.subject}</StyledLabel>\n        <StyledInput margin= \"0 0.5vw 0 0.5vw\"  disabled type=\"text\" name=\"subject\" value={selectedGroup.subjectName}/>\n        </FormElementGroup>\n        \n        <FormElementGroup>\n        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.group}</StyledLabel>\n        <StyledInput margin= \"0 0.5vw 0 0.5vw\"  disabled type=\"text\" name=\"group\" value={selectedGroup.groupName} />\n        </FormElementGroup>\n\n        <FormElementGroup>\n        <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.color}</StyledLabel>\n        <StyledInput margin= \"0 0.5vw 0 0.5vw\"  type=\"color\" name=\"color\" value={session.color} onChange= {event => {onChangeField(event,\"color\", \"newSession\")}}/>\n        </FormElementGroup>\n\n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.startTime}</StyledLabel>\n            <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"time\" name=\"startTime\" value={session.startTime} onChange= {event => {onChangeField(event,\"startTime\", \"newSession\", null, checkAvailability)}}/>\n        </FormElementGroup>\n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.day}</StyledLabel>\n            {showWeekdays(session.day, onChangeField, checkAvailability)}\n        </FormElementGroup>\n\n        <FormElementGroup>\n                <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.length}</StyledLabel>\n                <StyledInput margin= \"0 0.5vw 0 0.5vw\" type=\"number\" name=\"length\" value={session.length} onChange= {event => {onChangeField(event,\"length\", \"newSession\", null, checkAvailability)}}/>\n        </FormElementGroup>\n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.classRoom}</StyledLabel>\n            {showRooms(rooms, \"room\", onChangeField, session.room)}\n        </FormElementGroup>\n\n        <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\">{spanish.teacher}</StyledLabel>\n            {showRooms(teachers, \"teacher\", onChangeField, session.teacher)}\n        </FormElementGroup> \n\n\n        <div style ={{display: \"flex\", flexDirection: \"row\", justifyContent: \"center\", margin: \"0 0 1vh 0\"}}>\n          <ColorButton disabled={!sessionIsValid(session)} color = \"#2DA283\" margin=\"0 1vw\" padding=\"0.5rem 1rem\" width=\"fit-content\" onClick={(e)=>{e.preventDefault();createSession(session); showModal()}}>{spanish.create}</ColorButton>\n        </div>\n      </FormBody>\n    </React.Fragment>\n  );\n}\n\n\nexport default class Asignaturas extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.handleSessionClick = this.handleSessionClick.bind(this);\n    this.state={\n      loading: false,\n      sessions: [],\n      subjects: [],\n      titles: [],\n      rooms: [],\n      teachers: [],\n\n      showModal: false,\n      showError: true,\n      error: \"error\",\n      modalForm: \" \",\n      newSubject: {titles:[], color: \"#ffffff\", \"subjectName\":\"\"},\n      newGroup: createEmptyGroup(), \n      newSession: {}\n    };\n    \n\n    this.setLoading = this.setLoading.bind(this);\n    this.setSessions = this.setSessions.bind(this);\n    this.updateSession = this.updateSession.bind(this);\n    this.createSession = this.createSession.bind(this);\n    this.deleteSession = this.deleteSession.bind(this);\n\n\n    this.onSelectSubject  =    this.onSelectSubject.bind(this);\n    this.onSelectGroup    =    this.onSelectGroup.bind(this);\n    this.onSelectSession  =    this.onSelectSession.bind(this);\n    this.onChangeField    =    this.onChangeField.bind(this);\n    this.onChangeCheckBox =    this.onChangeCheckBox.bind(this);\n\n    this.setSubjects = this.setSubjects.bind(this);\n    this.createSubject = this.createSubject.bind(this);\n    this.updateSubject = this.updateSubject.bind(this);\n    this.updateSubjectName = this.updateSubjectName.bind(this);\n    this.deleteSubject = this.deleteSubject.bind(this);\n    \n    this.createGroup = this.createGroup.bind(this);\n    this.deleteGroup = this.deleteGroup.bind(this);\n\n    this.showModal = this.showModal.bind(this);\n    this.chooseCreateForm= this.chooseCreateForm.bind(this);\n\n    this.SelectTitleOfSubject= this.SelectTitleOfSubject.bind(this);\n\n    this.getRooms = this.getRooms.bind(this);\n    this.setRooms = this.setRooms.bind(this);\n    this.getTimeBlocksOfSession = this.getTimeBlocksOfSession.bind(this);\n\n    this.setTeachers= this.setTeachers.bind(this);\n    this.checkAvailability= this.checkAvailability.bind(this);\n\n    this.errorCallback= this.errorCallback.bind(this);\n\n  }\n\n  errorCallback(err){\n    this.setState({showModal:true,\n                showError: true,\n                error: err});\n  }\n\n  checkAvailability(session)\n  { \n    this.context.getAvailableRooms(this.state.selectedSubject.semester,\n                                    session.day, \n                                    this.getTimeBlocksOfSession(session), \n                                    this.setRooms);\n    this.context.getAvailableTeachers(this.state.selectedSubject.semester,\n                                      session.day, \n                                      this.getTimeBlocksOfSession(session), \n                                      this.setTeachers);\n  }\n\n  getRooms(){\n    this.context.getRooms((rooms)=> {\n      this.setState(\n        {rooms: rooms}\n      );\n    }\n  );\n  }\n\n  getTimeBlocksOfSession(session){\n\n\n    var time = session.startTime.split(\":\");\n    var startMinute= parseInt(time[0])*60 + parseInt(time[1]);\n    const row = (((startMinute - 480)/15)>>0) + 1;\n    const rowEnd= Math.ceil(((startMinute+parseInt(session.length) -480) /15))+1;\n  \n    return Array.from(new Array(rowEnd-row), (x, i) => i+row);\n  }\n\n\n  chooseCreateForm(form, selectedSubject, selectedGroup){\n    switch(form){\n      case \"subject\":\n        return createSubjectForm(this.state.newSubject, this.onChangeField, this.createSubject, this.showModal);\n      case \"group\":\n        return createGroupForm(selectedSubject, this.state.newGroup, this.onChangeField, this.onChangeCheckBox, this.createGroup, this.showModal);\n      case \"session\":\n        return createSessionForm(selectedGroup, this.state.newSession, this.onChangeField, this.onChangeCheckBox, \n                                  this.createSession, this.showModal, this.state.rooms, this.state.teachers, this.checkAvailability);\n      default:\n        return \"\";\n    }\n  }\n\n  showModal(modalForm){\n    this.setState((prevState) =>(\n      {showModal: !prevState.showModal,\n      modalForm: modalForm,\n      selectedSession: null,\n      showError: false}\n    ));\n  }\n\n  onChangeField(event, field, object, rootField, checkAvailability){\n    var value= event.target.value;\n\n\n    if ([\"room\", \"teacher\"].includes(field)){\n      value= JSON.parse(value);\n    }\n    if (field===\"length\" && !value){\n      value=0;\n    }\n    if ([\"day\", \"length\"].includes(field)){\n      value= parseInt(value);\n    }\n\n    var o = this.state[object];\n    if (rootField)\n    {\n      o[rootField][field]= value;\n    }\n    else{\n      o[field]= value;\n    }\n\n    this.setState({[object]: o}, ()=>{\n      if (checkAvailability){\n        checkAvailability(this.state.newSession);\n      }\n    });\n  }\n\n  onChangeCheckBox(field, object, fieldOfObject){\n    if (fieldOfObject){\n      object[fieldOfObject] = !object[fieldOfObject];\n      this.setState({[field]: object});  \n    }else{\n      this.setState(prevState=>({[field]: !prevState[field]}));  \n    }\n\n  }\n\n  \n  onSelectSubject(subject){\n    this.setState({\n      selectedSubject: JSON.parse(JSON.stringify(subject)),\n      originalSelectedSubject: subject,\n      newGroup: createEmptyGroup(),\n      selectedGroup: null,\n      selectedSession: null\n    });\n  }\n\n  \n  onSelectGroup(group){\n    this.setState({\n      selectedGroup: JSON.parse(JSON.stringify(group)),\n      selectedSession: null,\n      newSession: createDefaultSession(group)\n    });\n    this.context.loadSessionsOfSubjectGroup(group.subjectName, group.groupName, this.setSessions);\n  }\n\n  onSelectSession(session){\n    this.setState({\n      selectedSession: JSON.parse(JSON.stringify(session)),\n      rooms: [session.room],\n      teachers: [session.teacher]\n    });\n  }\n\n  handleSessionClick(clickedSession){\n    this.setState({ \n      selectedSession: clickedSession});\n  }\n  \n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n  setSessions(_sessions){\n    this.setState({sessions: _sessions});\n  }\n  updateSession(session){\n    this.context.updateSession(session, ()=> {\n      this.context.loadSessionsOfSubjectGroup(this.state.selectedSubject.subjectName, this.state.selectedGroup.groupName, this.setSessions);\n    },\n    this.state.selectedSubject.semester\n  );\n  }\n  createSession(session){\n    this.context.createSession(session, ()=> {\n      this.context.loadSessionsOfSubjectGroup(this.state.selectedSubject.subjectName, this.state.selectedGroup.groupName, this.setSessions);\n      }, this.state.selectedSubject.semester\n    );\n  }\n\n  createSubject(subject){\n    subject.semester= 1;\n    this.context.createSubject(subject, ()=> {\n      this.context.getSubjects(this.setSubjects);\n    }\n    );\n  }\n  deleteSubject(subject){\n    var callback= ()=> {\n      this.context.getSubjects(this.setSubjects);\n      this.setState((prevState) =>(\n        {\n        selectedSubject: null,\n        selectedGroup: null,\n        selectedSession: null}\n      ));\n    };\n    this.context.deleteSubject(subject,callback);\n  }\n\n  createGroup(subject, group){\n    group.subjectName = subject.subjectName;\n    group.type = \"group\";\n    group.defaultSessionValues.teacher= {name: \"Sin Asignar\", checkConcurrency: false};\n    group.defaultSessionValues.room= {name: \"Sin Asignar\", checkConcurrency: false};\n    group.defaultSessionValues.length= 45;\n    subject.groups.push(group);\n    this.context.updateSubject(subject, ()=> {\n      this.setState((prevState) =>(\n        {subjects: [...prevState.subjects.filter(s => s.id!==subject.id), subject],\n         newGroup: createEmptyGroup()}\n        ));\n      }\n    );\n  }\n\n  deleteGroup(subject, group){\n\n    var callback= ()=> {\n      this.context.getSubjects(this.setSubjects);\n      this.setState((prevState) =>(\n        {\n        selectedGroup: null,\n        selectedSession: null}\n      ));\n    };\n\n    this.context.deleteGroup(subject, group, callback );\n  }\n\n  setSubjects(_subjects){\n    this.setState({subjects: _subjects,\n      selectedSubject: null,\n      selectedGroup: null,\n      selectedSession: null});\n  }\n  setRooms(_rooms){\n    if (this.state.selectedSession){\n      const index = _rooms.map(r=>(r.name)).indexOf(this.state.selectedSession.room.name);\n      if (index < 0) {\n        _rooms=[..._rooms, this.state.selectedSession.room];\n      }\n    }\n    this.setState({rooms: _rooms});\n  }\n  setTeachers(_teachers){\n    if (this.state.selectedSession){\n      const index = _teachers.map(r=>(r.name)).indexOf(this.state.selectedSession.teacher.name);\n      if (index < 0) {\n        _teachers=[..._teachers, this.state.selectedSession.teacher];\n      }\n    }\n    this.setState({teachers: _teachers});\n  }\n\n  updateSubject(subject){\n    var callback= ()=> {\n      this.context.getSubjects(this.setSubjects);\n      this.setState((prevState) =>(\n        {selectedSubject: null,\n        selectedGroup: null,\n        selectedSession: null}\n      ));\n    };\n\n    if (subject.subjectName!==this.state.originalSelectedSubject.subjectName){\n      this.updateSubjectName(subject, this.state.originalSelectedSubject.subjectName, callback);\n    }else{\n      this.context.updateSubject(subject, callback, subject.semester !== this.state.originalSelectedSubject.semester);\n    }\n  }\n\n  deleteSession(session){\n    this.context.deleteSession(session, ()=>{\n      this.setState((prevState) =>(\n        {sessions: prevState.sessions.filter((s)=>(s.id!==session.id))}\n      ));\n    },this.state.selectedSubject.semester);\n  }\n\n  updateSubjectName(subject, oldSubjectname, callback){\n    this.context.updateSubjectName(subject, oldSubjectname, callback);\n  }\n\n  SelectTitleOfSubject(title, checkBoxBehaviour){\n    var titles= this.state.selectedSubject.titles;\n    var titlesNames= titles.map(t=> t.titleName);\n    const index = titlesNames.indexOf(title.titleName);\n    if (index > -1) {\n      if (checkBoxBehaviour){\n        titles.splice(index, 1);\n      }else{\n        titles[index]= title;\n      }\n    }else{\n      title[\"semester\"] = parseInt(this.state.selectedSubject.semester);\n      titles.push(title);\n    }\n\n    var subject = this.state.selectedSubject;\n    subject.titles= titles;\n\n    this.setState({\n      selectedSubject: subject\n    })\n  }\n\n\n\n  componentDidMount() {\n    this.context.setLoadingCallback(this.setLoading);\n    this.context.setErrorCallback(this.errorCallback);\n    \n    this.context.getSubjects(this.setSubjects);\n    this.context.loadTitles( (titles)=>{this.setState({titles: titles})});\n\n//    this.context.getRooms((rooms)=>{this.setState({rooms: rooms})});\n  }\n\n  render() {\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text={spanish.loadingMsg}\n      >\n      <div \n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >                \n      <EmptySpace/>\n\n          <SpaceBetweenMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>{spanish.subjects}</h2>\n              </MenuHeader>\n              <MenuBody>\n                {ListSubjects(this.state.subjects, this.onSelectSubject)}\n                <Button onClick={()=> {this.showModal(\"subject\")}}>\n                  +\n                </Button>\n              </MenuBody>\n            </LateralMenu>\n            <CentralMenu>\n              <SubjectForm \n                showModal = {this.showModal}\n                selectedSubject={this.state.selectedSubject}\n                newSubject={this.state.newSubject}\n                selectedGroup={this.state.selectedGroup}\n                sessions={this.state.sessions}\n                onSelectGroup={this.onSelectGroup} \n                onSelectSession={this.onSelectSession}\n                onChangeField={this.onChangeField}\n                onChangeCheckBox={this.onChangeCheckBox}\n                updateSubject={this.updateSubject}\n                titles= {this.state.titles}\n                onSelectTitle={this.SelectTitleOfSubject}\n                onDeleteSession={this.deleteSession}\n                onDeleteGroup = {this.deleteGroup}\n                deleteSubject= {this.deleteSubject}\n                checkAvailability={()=>this.checkAvailability(createEmptySession())}\n                >\n\n              </SubjectForm>\n            </CentralMenu>\n            <LateralMenu>\n              <MenuHeader>\n                <h2>{spanish.session}</h2>\n              </MenuHeader>\n              <MenuBody>\n                {\n                  this.state.selectedSession!=null?\n                  <SessionForm \n                  key ={this.state.selectedSession.id} \n                  id ={this.state.selectedSession.id} \n                  selectedSession={this.state.selectedSession}\n                  updateSession = {this.updateSession}\n                  rooms = {this.state.rooms}\n                  teachers = {this.state.teachers}\n                  checkAvailability={(session)=>{this.context.getAvailableRooms(this.state.selectedSubject.semester,\n                                                                                session.day, \n                                                                                this.getTimeBlocksOfSession(session), \n                                                                                this.setRooms);\n                                                this.context.getAvailableTeachers(this.state.selectedSubject.semester,\n                                                                                session.day, \n                                                                                this.getTimeBlocksOfSession(session), \n                                                                                this.setTeachers);}}>\n                  </SessionForm>:\n                  \"\"\n                }\n\n              </MenuBody>\n            </LateralMenu>     \n          </SpaceBetweenMenu>\n          <Footer></Footer>\n        </div>\n        <Modal width=\"60%\" onClose={this.showModal} show={this.state.showModal}>\n          {\n            this.state.showError? this.state.error: \n            this.chooseCreateForm(this.state.modalForm, this.state.selectedSubject, this.state.selectedGroup)\n          }\n        </Modal>\n      </MyLoader>\n    );\n  };\n  \n}\n","import styled from 'styled-components';\n\nexport const ResourceList = styled.div`\ndisplay:flex;\nflex-direction:column;\n\nalign-items: bottom;\n\nflex-wrap: ${props => props.wrap? props.wrap: \"nowrap\"};\n\nheight:${props => props.height? props.height: \"auto\"};\nwidth:${props => props.width? props.width: \"auto\"};\nmax-width: ${props => props.width? props.width: \"auto\"};\noverflow: ${props => props.overflow? props.overflow: \"none\"};\noverflow-x: ${props => props.overflowx? props.overflowx: \"hidden\"};\noverflow-y: ${props => props.overflowy? props.overflowy: \"hidden\"};\n\nmargin: ${props => props.margin? props.margin: \"0.5vh 0 1vh 0\"};\nborder: 1px solid #EFEFEF;\nborder-radius: 0 0 10px 10px;\n`;\n\nexport const ResourceElement= styled.div`\ndisplay: flex;\nflexDirection: row;\nwidth: 100%;\njustifyContent: space-between;\n`;\n","import { spanish } from \"../../translations/Spanish\";\nimport { ResourceElement } from \"./ResourceElements\";\nimport { Button} from '../../pages/PagesElements';\n\nimport React from 'react';\n\n\n\n/*\nresource =  information, \n            properties,\n            deleteFunction \n*/\nexport const Resource = ({resource})=>{\n\n    /*\n    property = {condition() -> return boolean, data -> data to show}\n    */\n    function listProperties(properties){\n        return (properties.map(p=>(\n            p.condition? <Button background=\"#969696\" disabled={true} style={{width: \"20%\", padding: \"0\"}}>{p.data}</Button>: <div style={{width: \"20%\", padding: \"0\", margin: \"0.5em\"}}></div>)\n        ));\n    }\n\n    return(\n        <ResourceElement>\n            <Button background=\"#e7e9eb\" onClick={e=>{e.preventDefault()}}style={{width: \"70%\", color: \"black\"}}>{resource.information}</Button>\n            {listProperties(resource.properties)}\n            <Button background=\"#a83535\" onClick={e=>{e.preventDefault();resource.delete()}} style={{width: \"10%\"}}>{spanish.delete}</Button>\n        </ResourceElement>    \n      );\n};\n\n\nexport function roomToResource(room, deleteRoom){\n\n    return {\n        information: room.roomName,\n        properties:[\n            {\n                data: spanish.concurrent,\n                condition: !room.checkConcurrency\n            }\n        ],\n        delete: deleteRoom\n    }\n}\n\nexport function teacherToResource(teacher, deleteTeacher){\n\n    return{\n        information: teacher.teacherName,\n        properties:[\n            {\n                data: spanish.concurrent,\n                condition: !teacher.checkConcurrency\n            }\n        ],\n        delete: deleteTeacher\n    };\n}\n\nexport function titleToResource(title, deleteTitle){\n\n    return {\n        information: title.titleName,\n        properties:[\n            {\n                data: spanish.semesters + \": \" + title.semesters,\n                condition: true\n            }\n        ],\n        delete: deleteTitle\n    };\n}","import React from 'react';\nimport Modal from '../../components/Modal';\nimport { Button, MyLoader, PageHeader } from '../PagesElements';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\nimport {FormElementGroup, FormGroup, FullBody, Header, StyledInput, StyledLabel } from '../../components/SubjectForm/SubjectFormElements';\nimport {spanish} from '../../translations/Spanish'\n\nimport {ResourceList} from '../../components/Resources/ResourceElements.js'\nimport {roomToResource, Resource} from '../../components/Resources/Resource.js'\n\n\nfunction listRooms(rooms, deleteRoom){\n  return rooms.map(room=>  \n    <Resource resource= {roomToResource(room, ()=>{deleteRoom(room);})}></Resource>\n    );\n}\n\nfunction roomIsValid(room){\n  return room.roomName.length>3;\n}\n\nfunction createRoomForm(newRoom, onChangeRoomValue, checkConcurrency, onChangeConcurrency, createRoom){\n  return(\n    <React.Fragment>\n      <h2>{spanish.createRoom}</h2>\n      <FormElementGroup>\n        <StyledLabel margin= \"0 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n          {spanish.name} \n        </StyledLabel>\n        <StyledInput margin= \"0 0.5vw 0 0.5vw\"  type=\"text\" name=\"roomName\" value={newRoom.roomName} onChange= {event => {onChangeRoomValue(event.target.value, \"roomName\")}}/>\n      </FormElementGroup>\n\n\n      <FormElementGroup style={{flexDirection: \"row\"}}>\n      <StyledInput margin= \"0.5vh 0.5vw 0 0\"  type=\"checkbox\" checked={checkConcurrency} value={checkConcurrency} onChange={event => {onChangeConcurrency()}}/>\n      <StyledLabel margin= \"0 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n            <p style={{overflow: \"hidden\", textOverflow: \"ellipsis\"}}>\n                {spanish.checkConcurrency}\n            </p> \n      </StyledLabel>\n      </FormElementGroup>\n\n      <Button disabled={!roomIsValid(newRoom)} onClick={e=>{createRoom(newRoom);}}>{spanish.create}</Button>\n    </React.Fragment>\n  );\n}\n\nexport default class Aulas extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.state={\n      show: false,\n      newRoom:{roomName: \"\"},\n      rooms: [],\n      checkConcurrency: true\n    };\n\n    this.setLoading = this.setLoading.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.OnChangeRoomValue = this.OnChangeRoomValue.bind(this);\n    this.getRooms= this.getRooms.bind(this);\n    this.createRoom= this.createRoom.bind(this);\n\n    this.deleteRoom= this.deleteRoom.bind(this);\n    this.onChangeConcurrency= this.onChangeConcurrency.bind(this);\n  }\n\n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n\n  componentDidMount(){\n    this.context.setLoadingCallback(this.setLoading);\n    this.getRooms();\n  }\n\n  OnChangeRoomValue(newValue, field){\n    var room = this.state.newRoom;\n    room[field]= newValue;\n    this.setState({\n      newRoom: room\n    });\n  }\n  onChangeConcurrency(){\n    this.setState(preState=>({\n      checkConcurrency: !preState.checkConcurrency\n        }));\n  }\n\n  getRooms(){\n    this.context.getRooms((rooms)=>{\n      this.setState({rooms: rooms})\n    });\n  }\n  createRoom(room){\n    room[\"checkConcurrency\"]= this.state.checkConcurrency;\n    this.context.createRoom(room, this.getRooms);\n    this.setState({\n      checkConcurrency: true\n    });\n  }\n\n  deleteRoom(room){\n    this.context.deleteRoom(room, this.getRooms);\n  }\n\n  showModal(){\n    this.setState({\n      show: !this.state.show\n    });\n  }\n\n  render(){\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text={spanish.loadingMsg}\n      >\n      <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >\n        <PageHeader>\n        </PageHeader>\n        \n        <FullBody justify=\"center\">\n          <FormGroup>\n            <Header>\n              <h2>{spanish.classrooms}</h2>\n            </Header>\n            <ResourceList height=\"70vh\" width=\"60vw\" overflowy= \"auto\">\n              {listRooms(this.state.rooms, this.deleteRoom, this.getRooms)}\n\n              <Button onClick={e=>{e.preventDefault(); this.showModal()}}><b>+</b></Button>\n            </ResourceList>\n          </FormGroup>\n        </FullBody>\n\n        <Modal onClose={this.showModal} show={this.state.show}>\n          {createRoomForm(this.state.newRoom, this.OnChangeRoomValue, this.state.checkConcurrency, this.onChangeConcurrency, this.createRoom)}\n        </Modal>\n      </div>\n      </MyLoader>\n    );\n  }\n}","import React from 'react';\nimport { Button } from './PagesElements';\nimport { Redirect } from \"react-router-dom\";\nimport { spanish } from '../translations/Spanish';\n\nconst Usuario = (props) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '80vh'\n      }}\n    >\n      <Button style={{padding: \"3vh 3vw\", cursor: \"pointer\"}} onClick={()=>{props.logOut()}}>{spanish.logout}</Button>\n      {props.loggedUser?\"\":\n        <Redirect to=\"/Login\" />\n      }\n    </div>\n  );\n};\n\nexport default Usuario;","import React from 'react';\nimport Modal from '../../components/Modal';\nimport { Button, MyLoader, PageHeader, SpaceBetweenMenu } from '../PagesElements';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\nimport { FormBody, FormElementGroup, FormGroup, FullBody, Header, StyledInput, StyledLabel } from '../../components/SubjectForm/SubjectFormElements';\nimport { spanish } from '../../translations/Spanish';\n\n\nfunction listTeachers(teachers, deleteTeacher, deleteCallback){\n  return teachers.map(teacher=>  \n    <div style={{display: \"flex\", flexDirection: \"row\", width: \"100%\", justifyContent: \"space-between\"}}>\n      <Button background=\"#e7e9eb\" onClick={e=>{e.preventDefault()}} style={{width: \"70%\", color: \"black\"}}>{teacher.teacherName}</Button>\n      {teacher.checkConcurrency===false? <Button background=\"#969696\" disabled={true} style={{width: \"20%\", padding: \"0\"}}>{spanish.concurrent}</Button>: <div style={{width: \"20%\", padding: \"0\", margin: \"0.5em\"}}></div>}\n      <Button background=\"#a83535\" onClick={e=>{e.preventDefault();deleteTeacher(teacher, deleteCallback)}} style={{width: \"10%\"}}>{spanish.delete}</Button>\n    </div>\n    );\n}\n\nfunction teacherIsValid(teacher){\n  return teacher.teacherName.length>5;\n}\n\nexport default class Profesores extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.state={\n      show: false,\n      newTeacher: {teacherName: \"\"},\n      teachers:[],\n      checkConcurrency: true\n    };\n\n    this.setLoading = this.setLoading.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.OnChangeTeacherValue = this.OnChangeTeacherValue.bind(this);\n    this.getTeachers= this.getTeachers.bind(this);\n    this.createTeacher= this.createTeacher.bind(this);\n\n    this.deleteTeacher= this.deleteTeacher.bind(this);\n    this.onChangeConcurrency= this.onChangeConcurrency.bind(this);\n  }\n\n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n\n  componentDidMount(){\n    this.context.setLoadingCallback(this.setLoading);\n    this.getTeachers();\n  }\n\n  OnChangeTeacherValue(newValue, field){\n    var teacher = this.state.newTeacher;\n    teacher[field]= newValue;\n    this.setState({\n      newTeacher: teacher\n    });\n  }\n  onChangeConcurrency(){\n    this.setState(preState=>({\n      checkConcurrency: !preState.checkConcurrency\n        }));\n  }\n\n  getTeachers(){\n    this.context.getTeachers((teachers)=>{\n      this.setState({teachers: teachers})\n    });\n  }\n  createTeacher(teacher){\n    teacher[\"checkConcurrency\"]= this.state.checkConcurrency;\n    this.context.createTeacher(teacher, this.getTeachers);\n    this.setState({\n      checkConcurrency: true,\n      newTeacher: {teacherName: \"\"}\n    });\n  }\n\n  deleteTeacher(teacher){\n    this.context.deleteTeacher(teacher, this.getTeachers);\n  }\n\n  showModal(){\n    this.setState({\n      show: !this.state.show\n    });\n  }\n\n  render(){\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text={spanish.loadingMsg}\n      >\n      <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >\n        <PageHeader>\n        </PageHeader>\n        <SpaceBetweenMenu style={{marginLeft: \"-5%\"}}>\n\n            <FullBody>\n              <FormGroup>\n                <Header>\n                  <h2>{spanish.teachers}</h2>\n                </Header>\n                <FormBody height=\"70vh\" width=\"60vw\" overflowy= \"auto\" style={{\"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                  {listTeachers(this.state.teachers, this.deleteTeacher, this.getTeachers)}\n\n                  <Button onClick={e=>{e.preventDefault(); this.showModal()}}><b>+</b></Button>\n                </FormBody>\n              </FormGroup>\n            </FullBody>\n        </SpaceBetweenMenu>\n        <Modal onClose={this.showModal} show={this.state.show}>\n\n          <h2>{spanish.createTeacher}</h2>\n\n          <FormElementGroup>\n            <StyledLabel margin= \"0 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n              {spanish.name} \n            </StyledLabel>\n            <StyledInput margin= \"0 0.5vw 0 0.5vw\"  type=\"text\" name=\"teacherName\" value={this.state.newTeacher.teacherName} onChange= {event => {this.OnChangeTeacherValue(event.target.value, \"teacherName\")}}/>\n          </FormElementGroup>\n\n          \n          <FormElementGroup style={{flexDirection: \"row\"}}>\n          <StyledInput margin= \"0.5vh 0.5vw 0 0\"  type=\"checkbox\" checked={this.state.checkConcurrency} value={this.state.checkConcurrency} onChange={event => {this.onChangeConcurrency()}}/>\n          <StyledLabel margin= \"0 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n                <p style={{overflow: \"hidden\", textOverflow: \"ellipsis\"}}>\n                    {spanish.checkConcurrency}\n                </p> \n          </StyledLabel>\n          </FormElementGroup>\n\n          <Button disabled={!teacherIsValid(this.state.newTeacher)}onClick={e=>{this.createTeacher(this.state.newTeacher);}}>{spanish.create}</Button>\n        </Modal>\n      </div>\n      </MyLoader>\n    );\n  }\n}","import React from 'react';\nimport Modal from '../../components/Modal';\nimport { Button, MyLoader, PageHeader, SpaceBetweenMenu } from '../PagesElements';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\nimport { FormBody, FormElementGroup, FormGroup, FullBody, Header, StyledInput, StyledLabel } from '../../components/SubjectForm/SubjectFormElements';\nimport { spanish } from '../../translations/Spanish';\n\n\nfunction listTitles(titles, deleteTitle, deleteCallback){\n  return titles.map(title=>\n    <div style={{display: \"flex\", flexDirection: \"row\", width: \"100%\", justifyContent: \"space-between\"}}>\n      <Button background=\"#e7e9eb\" onClick={e=>{e.preventDefault()}} style={{width: \"70%\", color: \"black\"}}>{title.titleName}</Button>\n      <Button background=\"#969696\" disabled={true} style={{width: \"20%\"}}>{spanish.semesters}: {title.semesters}</Button>\n      <Button background=\"#a83535\" onClick={e=>{e.preventDefault();deleteTitle(title, deleteCallback)}} style={{width:\"10%\"}}>{spanish.delete}</Button>\n    </div>\n    );\n}\n\nfunction titleIsValid(title){\n  return title.titleName.length>3 && title.semesters >0 && title.semesters<9;\n}\n\nexport default class Profesores extends React.Component {\n  static contextType = RepositoryContext;\n\n  constructor(props) {\n    super(props);\n    this.state={\n      show: false,\n      titles:[],\n      newTitle:{titleName:\"\",semesters:0},\n    };\n\n    this.setLoading = this.setLoading.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.OnChangeTitleValue = this.OnChangeTitleValue.bind(this);\n\n    this.getTitles= this.getTitles.bind(this);\n    this.createTitle= this.createTitle.bind(this);\n    this.deleteTitle= this.deleteTitle.bind(this);\n  }\n  getTitles(){\n      this.context.loadTitles((titles)=>this.setState({titles:titles}));\n  }\n  setLoading(_loading){\n    this.setState({loading: _loading});\n  }\n\n  componentDidMount(){\n    this.context.setLoadingCallback(this.setLoading);\n    this.getTitles();\n  }\n  OnChangeTitleValue(newValue, field){\n      var title= this.state.newTitle;\n      title[field]=newValue;\n      this.setState({newTitle: title});\n  }\n\n  createTitle(title){\n    this.context.createTitle(title, ()=>{this.getTitles(); this.showModal()});\n  } \n  deleteTitle(title){\n    this.context.deleteTitle(title, ()=>{this.getTitles()});\n  }\n\n  createTeacher(teacher){\n    teacher[\"checkConcurrency\"]= this.state.checkConcurrency;\n    this.context.createTeacher(teacher, this.getTeachers);\n    this.setState({\n      checkConcurrency: true,\n      newTeacher: {}\n    });\n  }\n\n  deleteTeacher(teacher){\n    this.context.deleteTeacher(teacher, this.getTeachers);\n  }\n\n  showModal(){\n    this.setState({\n      show: !this.state.show\n    });\n  }\n\n  render(){\n    return (\n      <MyLoader\n      active={this.state.loading}\n      spinner\n      text={spanish.loadingMsg}\n      >\n      <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end'\n      }}\n      >\n        <PageHeader>\n        </PageHeader>\n        <SpaceBetweenMenu style={{marginLeft: \"-5%\"}}>\n\n            <FullBody>\n              <FormGroup>\n                <Header>\n                  <h2>{spanish.titles}</h2>\n                </Header>\n                <FormBody height=\"70vh\" width=\"60vw\" overflowy= \"auto\" style={{\"border\": \"1px solid #EFEFEF\",\"border-radius\": \"0 0 10px 10px\"}}>\n                  {listTitles(this.state.titles, this.deleteTitle, this.getTitles)}\n\n                  <Button onClick={e=>{e.preventDefault(); this.showModal()}}><b>+</b></Button>\n                </FormBody>\n              </FormGroup>\n            </FullBody>\n        </SpaceBetweenMenu>\n        <Modal onClose={this.showModal} show={this.state.show}>\n\n          <h2>{spanish.createTitle}</h2>\n          \n          <FormElementGroup style={{}}>\n          <StyledLabel margin= \"1 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n            {spanish.name}\n          </StyledLabel>\n          <StyledInput type=\"text\" name=\"titleName\" value={this.state.newTitle.titleName} onChange= {event => {this.OnChangeTitleValue(event.target.value, \"titleName\")}}/>\n          \n          <StyledLabel margin= \"1 0.5vw 0 0.5vw\" style={{maxWidth: \"90%\"}}>\n            {spanish.semesters}\n          </StyledLabel>\n          <StyledInput  type=\"number\" name=\"semesters\" value={this.state.newTitle.semesters} onChange= {event => {this.OnChangeTitleValue(event.target.value, \"semesters\")}}>\n\n          </StyledInput>\n          </FormElementGroup>\n\n          <Button disabled= {!titleIsValid(this.state.newTitle)} onClick={e=>{this.createTitle(this.state.newTitle);}}>{spanish.create}</Button>\n        </Modal>\n      </div>\n      </MyLoader>\n    );\n  }\n}","import React from 'react';\n\nimport {RepositoryContext} from '../../context/RepositoryContext';\nimport { StyledInput, StyledLabel } from '../../components/SubjectForm/SubjectFormElements';\nimport { Button, MyLoader } from '../PagesElements';\n\nimport {spanish} from '../../translations/Spanish'\n\nexport default class Login extends React.Component {\n    static contextType = RepositoryContext;\n  \n    constructor(props){\n        super(props);\n        this.setLoading = this.setLoading.bind(this);\n        this.state={\n          email: \"\",\n          password: \"\",\n          loading: false, \n          errorMsg: \"\"\n        };\n        this.setErrorMsg= this.setErrorMsg.bind(this);\n        this.setEmail= this.setEmail.bind(this);\n        this.setPassword= this.setPassword.bind(this);\n\n      }\n      setLoading(loading){\n        this.setState({loading: loading});\n      }\n      setErrorMsg(msg){\n        this.setState({errorMsg: msg});\n      }\n    \n      setEmail(email){\n        this.setState({email: email});\n      }\n      setPassword(psw){\n        this.setState({password: psw});\n      }\n\n    componentDidMount(){\n        this.context.setLoadingCallback(this.setLoading);\n        this.context.setErrorCallback(this.setErrorMsg);\n    }\n\n    render(){\n        return (\n            <MyLoader style={{heigth:\"80vh\"}}\n            active={this.state.loading}\n            spinner\n            text='Loading your content...'\n            >  \n      \n            \n              <div\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                flexDirection: \"column\",\n                height: '90vh'\n              }}\n              >\n               {\n               this.props.loggedUser? \"Welcome back!\":\n                <div style={{boxShadow: \"10px\", color: \"white\", border: \"solid\", borderColor: \"#2DA283\", display:\"flex\", flexDirection: \"column\", background: \"#E7E9EB\", alignItems: \"center\", justifyContent: 'center', width: \"40vw\", borderRadius: \"4px\"}}>\n                  <h2 style={{color: \"#2DA283\"}}>{spanish.loginHeader}</h2>\n                  <StyledLabel style={{color: \"#2DA283\"}}>{spanish.email}</StyledLabel>\n                  <StyledInput margin= \"0 0.5vw 0 0.5vw\"  type=\"text\" name=\"email\" \n                    value={this.state.email } onChange= {event => {this.setEmail(event.target.value)}}\n                    style={{width: \"80%\", height: \"3vh\", borderRadius: \"5px\", borderWidth: \"1px\"} }/>\n                  <StyledLabel style={{color: \"#2DA283\"}}>{spanish.password}</StyledLabel>\n                  <StyledInput margin= \"0 0.5vw 0 0.5vw\"  type=\"password\" name=\"email\" \n                    value={this.state.password} onChange= {event => {this.setPassword(event.target.value)}}\n                    style={{width: \"80%\", height: \"3vh\", borderRadius: \"5px\", borderWidth: \"1px\"}}/>\n          \n                    <Button background={\"#F5AB00\"} onClick={e=>{this.context.auth(this.state.email, this.state.password, (d)=>{})}}>\n                    {spanish.login}\n                    </Button>\n                </div>\n                }\n                <div style={{color: \"#a83535\", marginTop: \"1vh\"}}>\n                  {this.state.errorMsg}\n                </div>\n              </div>\n              </MyLoader>\n          );\n    }\n\n}","\n    const subjects= [{\"id\":\"string\",\"subjectName\":\"Test Subject\",\"color\":\"string\",\"groups\":[{\"id\": \"some id\", \"groupName\":\"Test Group\",\"subjectName\":\"string\",\"color\":\"string\",\"type\":\"string\",\"defaultSessionValues\":{\"color\":\"string\",\"length\":50,\"room\":{\"name\":\"string\"},\"teacher\":{\"name\":\"string\"}}}],\"titles\":[{\"semester\":1,\"titleName\":\"Test Title\"}]}];\n    const sessions=[{\"id\":\"asdasc-123124jp-asdadipkw\",\"startTime\":\"09:30\",\"length\":60,\"color\":\"#EFEFEF\",\"subject\":\"Subject X\",\"group\":\"Group N\",\"room\":{\"name\":\"Test Room\", \"checkConcurrency\": true},\"teacher\":{\"name\":\"Test Teacher\", \"checkConcurrency\": true},\"day\":2},{\"id\":\"asdasc-asdasdacaasdadipkw\",\"startTime\":\"11:30\",\"length\":60,\"color\":\"#EFEFEF\",\"subject\":\"Subject X\",\"group\":\"Group N\",\"room\":{\"name\":\"Big Room\"},\"teacher\":{\"name\":\"Teacher X\"},\"day\":2}];\n    const titles= [{\"id\":\"string\",\"titleName\":\"Test Title\",\"semesters\":3}]\n    const teachers= [{\"id\":\"string\",\"teacherName\":\"Test Teacher\",\"checkConcurrency\":true}];\n    const rooms=[{\"id\":\"string\",\"roomName\":\"Test Room\",\"checkConcurrency\":true}];\n\n\nexport default class Mock{\n\n    constructor(baseurl, loadingCallback) {\n        this.baseurl = baseurl;\n        this.loadingCallback= loadingCallback;\n        this.errorCallback={};\n        this.user={email: \"TestUser@test.test\"};\n      }\n      \n    logOut(callback){\n        callback();\n    }\n\n    auth(email, password, callback){\n        this.user= {email:email};\n        callback(this.user);\n    }\n    getUser(){\n        return this.user;\n    }\n\n    setErrorCallback(callback){\n        this.errorCallback= callback;\n    }\n    setLoadingCallback(callback){\n        this.loadingCallback= callback;\n    }\n\n    getTeachers(callback){\n        callback(teachers);\n    }\n    createTeacher(teacher, callback){\n        callback();\n    }\n\n    async deleteTeacher(teacher, callback){\n        callback();\n    }\n\n    getAvailableTeachers(semester, day, timeBlocks, callback){\n\n        var formattedTeachers=[];\n        teachers.forEach(r=>{formattedTeachers.push({name: r.teacherName, checkConcurrency: r.checkConcurrency})});\n        callback(formattedTeachers);\n    }\n\n    getRooms(callback){\n        callback(rooms);\n    }\n\n    getAvailableRooms(semester, day, timeBlocks, callback){\n        var formattedRooms=[];\n        rooms.forEach(r=>{formattedRooms.push({name: r.roomName, checkConcurrency: r.checkConcurrency})});\n        callback(formattedRooms);\n    }\n\n    createRoom(room, callback){\n        callback();\n    }\n\n    async deleteRoom(room, callback){\n\n        callback();\n    }\n    \n    loadTitles(callback){\n        callback(titles);\n    }\n    createTitle(title, callback){\n        callback();\n    }\n\n    deleteTitle(title, callback){\n        callback();\n    }\n\n    loadSubjectsOfTitle(title, callback){\n        callback(subjects);\n    }\n\n    loadSessionsOfSubjects(subjectNames, callback){\n        callback(sessions);\n    }\n\n    getSessionsOfTeacher(teacher, callback){\n        callback(sessions);\n    }\n    getSessionsOfSubjectGroup(subject, group, callback){\n        callback(sessions);\n    }\n    getSessionsOfRoom(room, callback){\n        callback(sessions);\n    }\n\n    updateSession(session, callback, semester) {\n        callback();\n    }\n\n    createSession(session, callback, semester){\n        callback();\n    }\n\n\n    deleteSession(session, callback, semester){\n        callback();\n    }\n\n\n    getSubjectsOfTeacher(teacher, callback){\n        callback(subjects);\n    }\n\n    async updateSubject(subject, callback, updatedSemester){\n        callback();\n    }\n\n\n\n    updateSubjectName(subject, oldSubjectName, callback){\n        callback();\n    }\n\n    getSubjects(callback){\n        callback(subjects);\n    }\n\n    createSubject(subject, callback){\n        callback();\n    }\n\n    async deleteSubject(subject, callback){\n        callback();\n    }\n\n    deleteGroup(subject, group, callback){\n        callback();\n    }\n\n    checkDisponibilityForSession(session, semester, callback){\n        \n        callback({\n            teacher: true,\n            room: true\n        });\n        \n    }\n\n}\n","import firebase from 'firebase';\n// Required for side-effects\nrequire(\"firebase/firestore\");\n\n\nfunction getTimeBlocksOfSession(session){\n\n\n    var time = session.startTime.split(\":\");\n    var startMinute= parseInt(time[0])*60 + parseInt(time[1]);\n    const row = (((startMinute - 480)/15)>>0) + 1;\n    const rowEnd= Math.ceil(((startMinute+parseInt(session.length) -480) /15))+1;\n\n    console.log(\"time \" + time + \" - startMinute\" + startMinute + \" - row \" + row + \"- rowend \" + rowEnd);\n  \n    return Array.from(new Array(rowEnd-row), (x, i) => i+row);\n  }\n\nexport default class prodData{\n\n    constructor(_, loadingCallback, userIsLogged) {\n        var firebaseConfig = {\n            apiKey:             process.env.REACT_APP_FIREBASE_API_KEY.trim(),\n            authDomain:         process.env.REACT_APP_FIREBASE_AUTH_DOMAIN.trim(),\n            projectId:          process.env.REACT_APP_FIREBASE_PROJECT_ID.trim(),\n            storageBucket:      process.env.REACT_APP_FIREBASE_STORAGE_BUCKET.trim(),\n            messagingSenderId:  process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID.trim(),\n            appId:              process.env.REACT_APP_FIREBASE_APP_ID.trim()\n          };\n\n        if (!firebase.apps.length) {\n            try {\n                firebase.initializeApp(firebaseConfig);\n                this.db = firebase.firestore();\n                } catch (err) {\n                    console.log(\"captured \" + err);\n                }\n        }\n           \n        this.loadingCallback= loadingCallback;\n        this.errorCallback={};\n\n        firebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                userIsLogged(user.email);\n            } else {\n                userIsLogged(false);\n            }\n          });\n\n    }\n\n    logOut(callback){\n        firebase.auth().signOut().then(() => {\n            callback();\n        }).catch((error) => {\n        });\n    }\n\n    auth(email, password, callback){\n        this.loadingCallback(true);\n        firebase.auth().signInWithEmailAndPassword(email, password)\n        .then((userCredential) => {\n            this.loadingCallback(false);\n            // Signed in\n            var user = userCredential.user;\n            // ...\n            callback(user);\n        })\n        .catch((error) => {\n            this.loadingCallback(false);\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            if (this.errorCallback){\n                this.errorCallback(errorCode + \" - \" + errorMessage);\n            }\n        });\n    }\n    getUser(){\n        return firebase.auth().currentUser;\n    }\n\n    setErrorCallback(callback){\n        this.errorCallback= callback;\n    }\n    setLoadingCallback(callback){\n        this.loadingCallback= callback;\n    }\n\n    getTeachers(callback){\n        this.loadingCallback(true);\n        this.db.collection(\"teachers\").get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var teacher= doc.data();\n                data.push(teacher);\n            });\n            this.loadingCallback(false);\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    createTeacher(teacher, callback){\n        this.loadingCallback(true);\n        \n        \n        // Get a new write batch\n        var batch = this.db.batch();\n\n        var teacherRef = this.db.collection('teachers').doc(teacher.teacherName);\n        batch.set(teacherRef, teacher);\n\n        var teacherOcupancyRef= this.db.collection('teachersOcupancy');\n        var ocupancy={};\n\n        var timeBlock;\n        if (teacher.checkConcurrency){\n            for (timeBlock = 1; timeBlock < 53; timeBlock++) {\n                ocupancy[timeBlock]= firebase.firestore.FieldValue.arrayUnion(teacher.teacherName);\n            }\n        }else{\n            ocupancy[\"concurrents\"]= firebase.firestore.FieldValue.arrayUnion(teacher.teacherName);\n        }\n\n        var semester;\n        for (semester = 1; semester < 3; semester++) {\n            var day;\n            for (day = 1; day < 8; day++) {\n                batch.update(teacherOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n                \n            }\n        }        \n        \n        // Commit the batch\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    async deleteTeacher(teacher, callback){\n        this.loadingCallback(true);\n        \n        \n        // Get a new write batch\n        var batch = this.db.batch();\n\n        var teacherRef = this.db.collection('teachers').doc(teacher.teacherName);\n        batch.delete(teacherRef);\n\n        var teacherOcupancyRef= this.db.collection('teachersOcupancy');\n        var ocupancy={};\n\n        var timeBlock;\n        for (timeBlock = 1; timeBlock < 53; timeBlock++) {\n            ocupancy[timeBlock]= firebase.firestore.FieldValue.arrayRemove(teacher.teacherName);\n        }\n\n        var semester;\n        for (semester = 1; semester < 3; semester++) {\n            var day;\n            for (day = 1; day < 8; day++) {\n                batch.update(teacherOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n            }\n        }        \n\n        var rawData = await this.db.collection(\"sessions\").where(\"teacher.name\", \"==\", teacher.teacherName).get();\n        rawData=rawData.docs;\n        rawData.forEach((doc) => {\n            var session= doc.data();\n            session[\"id\"]= doc.id;\n            session.teacher={name: \"Sin Asignar\", checkConcurrency: false};\n            batch.update(this.db.collection(\"sessions\").doc(session.id), session);\n        });\n        \n        // Commit the batch\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    getAvailableTeachers(semester, day, timeBlocks, callback){\n        this.loadingCallback(true);\n        this.db.collection('teachersOcupancy').doc((parseInt(semester-1)%2 + 1) +\"-\"+day).get().then((doc) => {\n            var teachers;\n            var formattedTeachers=[];\n            if (timeBlocks.length>0  && timeBlocks.every(tb => tb in doc.data())){\n                timeBlocks.forEach(tb=>{\n                    if (!teachers){\n                        teachers= doc.data()[tb];\n                    }else{\n                        teachers = teachers.filter(r=>(doc.data()[tb].includes(r)));\n                    }\n                });\n                teachers.forEach(r=>{formattedTeachers.push({name: r, checkConcurrency: true})})\n            }\n\n            doc.data()[\"concurrents\"].forEach(r=>{formattedTeachers.push({name: r, checkConcurrency: false})});\n\n            this.loadingCallback(false);\n            callback(formattedTeachers);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    getRooms(callback){\n        this.loadingCallback(true);\n        this.db.collection(\"rooms\").get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var room= doc.data();\n                data.push(room);\n            });\n            this.loadingCallback(false);\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    getAvailableRooms(semester, day, timeBlocks, callback){\n        this.loadingCallback(true);\n        this.db.collection('roomsOcupancy').doc((parseInt(semester-1)%2 + 1) +\"-\"+day).get().then((doc) => {\n            var rooms;\n            var formattedRooms=[];\n            if (timeBlocks.length>0  && timeBlocks.every(tb => tb in doc.data())){\n                timeBlocks.forEach(tb=>{\n                    if (!rooms){\n                        rooms= doc.data()[tb];\n                    }else{\n                        rooms = rooms.filter(r=>(doc.data()[tb].includes(r)));\n                    } \n                });\n                rooms.forEach(r=>{formattedRooms.push({name: r, checkConcurrency: true})})\n            }\n            doc.data()[\"concurrents\"].forEach(r=>{formattedRooms.push({name: r, checkConcurrency: false})});\n            this.loadingCallback(false);\n            callback(formattedRooms);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    createRoom(room, callback){\n        this.loadingCallback(true);\n        \n        \n        // Get a new write batch\n        var batch = this.db.batch();\n\n        var roomRef = this.db.collection('rooms').doc(room.roomName);\n        batch.set(roomRef, room);\n\n        var roomOcupancyRef= this.db.collection('roomsOcupancy');\n        var ocupancy={};\n\n        var timeBlock;\n        if (room.checkConcurrency){\n            for (timeBlock = 1; timeBlock < 53; timeBlock++) {\n                ocupancy[timeBlock]= firebase.firestore.FieldValue.arrayUnion(room.roomName);\n            }\n        }else{\n            ocupancy[\"concurrents\"]= firebase.firestore.FieldValue.arrayUnion(room.roomName);\n        }\n\n        var semester;\n        for (semester = 1; semester < 3; semester++) {\n            var day;\n            for (day = 1; day < 8; day++) {\n                batch.update(roomOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n            }\n        }        \n        \n        // Commit the batch\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n\n    }\n\n    async deleteRoom(room, callback){\n\n        this.loadingCallback(true);\n        \n        \n        // Get a new write batch\n        var batch = this.db.batch();\n\n        var roomRef = this.db.collection('rooms').doc(room.roomName);\n        batch.delete(roomRef);\n\n        var roomOcupancyRef= this.db.collection('roomsOcupancy');\n        var ocupancy={};\n\n        var timeBlock;\n\n        if (room.checkConcurrency){\n            for (timeBlock = 1; timeBlock < 53; timeBlock++) {\n                ocupancy[timeBlock]= firebase.firestore.FieldValue.arrayRemove(room.roomName);\n            }\n        }else{\n            ocupancy[\"concurrents\"]= firebase.firestore.FieldValue.arrayRemove(room.roomName);\n        }\n\n\n        var semester;\n        for (semester = 1; semester < 3; semester++) {\n            var day;\n            for (day = 1; day < 8; day++) {\n                batch.update(roomOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n            }\n        }  \n        \n        var rawData = await this.db.collection(\"sessions\").where(\"room.name\", \"==\", room.roomName).get();\n        rawData=rawData.docs;\n        rawData.forEach((doc) => {\n            var session= doc.data();\n            session[\"id\"]= doc.id;\n            session.room={name: \"Sin Asignar\", checkConcurrency: false};\n            batch.update(this.db.collection(\"sessions\").doc(session.id), session);\n        });\n        \n        // Commit the batch\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    \n    loadTitles(callback){\n        this.loadingCallback(true);\n        this.db.collection(\"titles\").get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session.id= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        })\n        .catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    createTitle(title, callback){\n        this.db.collection(\"titles\").doc(title.titleName).set({\n            titleName: title.titleName,\n            semesters: parseInt(title.semesters)\n        })\n        .then(() => {\n            callback();\n        })\n        .catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    deleteTitle(title, callback){\n        this.db.collection(\"titles\").doc(title.id).delete()\n        .then(() => {\n            callback();\n        })\n        .catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    loadSubjectsOfTitle(title, callback){\n\n\n        this.loadingCallback(true);\n        this.db.collection(\"subjects\").where(\"titles\", \"array-contains\", title).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });    \n    }\n\n    loadSessionsOfSubjects(subjectNames, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"sessions\").where(\"subjectName\", \"in\", subjectNames).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    getSessionsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"sessions\").where(\"teacher\", \"==\", teacher).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n\n            \n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    getSessionsOfSubjectGroup(subject, group, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"sessions\").where(\"subjectName\", \"==\", subject).where(\"groupName\", \"==\", group).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                data.push(session);\n            });\n            callback(data);\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    getSessionsOfRoom(room){\n        this.loadingCallback(true);\n\n        this.db.collection(\"sessions\").where(\"room\", \"==\", room).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n\n\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n    updateSession(session, callback, semester) {\n        var loading = this.loadingCallback;\n        loading(true);\n\n        this.db.collection('sessions').doc(session.id).get().then((doc) => {\n\n            var batch = this.db.batch();\n            var sessionsRef= this.db.collection('sessions');\n            var roomOcupancyRef= this.db.collection('roomsOcupancy');\n            var teacherOcupancyRef= this.db.collection('teachersOcupancy');\n\n            var oldSession= doc.data();\n\n            var oldOcupancyRoom={};\n            var oldOcupancyTeacher={};\n\n            var updateGeneral= session.day !== oldSession.day || session.startTime !== oldSession.startTime;\n            var updateRoom = updateGeneral || session.room.name !== oldSession.room.name;\n            var updateTeacher = updateGeneral || session.teacher.name !== oldSession.teacher.name;\n\n            var sem = parseInt(semester-1)%2+1;  \n            var oldTimeBlocks;\n            if (updateRoom && oldSession.room.checkConcurrency){\n                oldTimeBlocks= getTimeBlocksOfSession(oldSession);\n                oldTimeBlocks.forEach(t=>{\n                    oldOcupancyRoom[t]= firebase.firestore.FieldValue.arrayUnion(oldSession.room.name);\n                });\n                batch.update(roomOcupancyRef.doc(sem+\"-\"+oldSession.day), oldOcupancyRoom);\n            }\n            if (updateTeacher && oldSession.teacher.checkConcurrency){\n                oldTimeBlocks= getTimeBlocksOfSession(oldSession);\n                oldTimeBlocks.forEach(t=>{\n                    oldOcupancyTeacher[t]= firebase.firestore.FieldValue.arrayUnion(oldSession.teacher.name);\n                });\n                batch.update(teacherOcupancyRef.doc(sem+\"-\"+oldSession.day), oldOcupancyTeacher);\n            }\n\n            var ocupancyRoom={};\n            var ocupancyTeacher={};\n            var timeBlocks;\n            if (updateRoom && session.room.checkConcurrency){\n                timeBlocks= getTimeBlocksOfSession(session);\n                timeBlocks.forEach(t=>{\n                    ocupancyRoom[t]= firebase.firestore.FieldValue.arrayRemove(session.room.name);\n                });\n                batch.update(roomOcupancyRef.doc(sem+\"-\"+session.day), ocupancyRoom)\n            }\n            if (updateTeacher && session.teacher.checkConcurrency){\n                timeBlocks= getTimeBlocksOfSession(session);\n                timeBlocks.forEach(t=>{\n                    ocupancyTeacher[t]= firebase.firestore.FieldValue.arrayRemove(session.teacher.name);\n                });\n                batch.update(teacherOcupancyRef.doc(sem+\"-\"+session.day), ocupancyTeacher);\n            }\n\n            session[\"length\"]= parseInt(session[\"length\"]);\n            batch.update(sessionsRef.doc(session.id), session);\n  \n            batch.commit().then(() => {\n                this.loadingCallback(false);\n                callback();\n            }).catch(err=>{\n                this.errorCallback(err);\n            });\n\n          //-------------------------\n        });\n\n    }\n\n    createSession(session, callback, semester){\n        session.type=\"session\";\n        this.loadingCallback(true);\n        var batch = this.db.batch();\n        var roomOcupancyRef= this.db.collection('roomsOcupancy');\n        var teacherOcupancyRef= this.db.collection('teachersOcupancy');\n\n        var ocupancyRoom={};\n        var ocupancyTeacher={};\n\n        var sem = parseInt(semester-1)%2+1;  \n        var oldTimeBlocks;\n\n        if (session.room.checkConcurrency){\n            oldTimeBlocks= getTimeBlocksOfSession(session);\n            oldTimeBlocks.forEach(t=>{\n                ocupancyRoom[t]= firebase.firestore.FieldValue.arrayRemove(session.room.name);\n            });\n            batch.update(roomOcupancyRef.doc(sem+\"-\"+session.day), ocupancyRoom);\n        }\n        if (session.teacher.checkConcurrency){\n            oldTimeBlocks= getTimeBlocksOfSession(session);\n            oldTimeBlocks.forEach(t=>{\n                ocupancyTeacher[t]= firebase.firestore.FieldValue.arrayRemove(session.teacher.name);\n            });\n            batch.update(teacherOcupancyRef.doc(sem+\"-\"+session.day), ocupancyTeacher);\n        }\n        delete session[\"id\"];\n        session[\"length\"]= parseInt(session[\"length\"]);\n        var sessionRef = this.db.collection('sessions').doc();\n        batch.set(sessionRef, session);\n\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        })\n        .catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n\n    deleteSession(session, callback, semester){\n        this.loadingCallback(true);\n        var batch = this.db.batch();\n\n        this.deleteSessionBatch(session, semester, batch);\n\n        batch.commit().then(() => {\n            this.loadingCallback(false);\n            callback();\n        }).catch(err=>{\n            this.errorCallback(err);\n        });\n    }\n\n    deleteSessionBatch(session, semester, batch){\n        var roomOcupancyRef= this.db.collection('roomsOcupancy');\n        var teacherOcupancyRef= this.db.collection('teachersOcupancy');\n\n        var ocupancyRoom={};\n        var ocupancyTeacher={};\n\n        var sem = parseInt(semester-1)%2+1;  \n        var oldTimeBlocks;\n\n        if (session.room.checkConcurrency){\n            oldTimeBlocks= getTimeBlocksOfSession(session);\n            oldTimeBlocks.forEach(t=>{\n                ocupancyRoom[t]= firebase.firestore.FieldValue.arrayUnion(session.room.name);\n            });\n            batch.update(roomOcupancyRef.doc(sem+\"-\"+session.day), ocupancyRoom);\n        }\n        if (session.teacher.checkConcurrency){\n            oldTimeBlocks= getTimeBlocksOfSession(session);\n            oldTimeBlocks.forEach(t=>{\n                ocupancyTeacher[t]= firebase.firestore.FieldValue.arrayUnion(session.teacher.name);\n            });\n            batch.update(teacherOcupancyRef.doc(sem+\"-\"+session.day), ocupancyTeacher);\n        }\n\n        var sessionRef = this.db.collection('sessions').doc(session.id);\n        batch.delete(sessionRef);\n    }\n\n\n    getSubjectsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        this.db.collection(\"subjects\").where(\"teachers\", \"array-contains\", teacher).get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var group= doc.data();\n                group[\"id\"]= doc.id;\n                data.push(group);\n            });\n            callback(data);\n        });\n    }\n\n    async updateSubject(subject, callback, updatedSemester){\n        this.loadingCallback(true);\n        var batch = this.db.batch();\n\n        try{\n            var groups = subject.groups.map(g =>(g.groupName));\n            batch.update(this.db.collection(\"subjects\").doc(subject.id), subject);\n            if (updatedSemester && groups.length>0){\n                var rawData = await this.db.collection(\"sessions\").where(\"subjectName\", \"==\", subject.subjectName).where(\"groupName\", \"in\", groups).get();\n                rawData=rawData.docs;\n\n                rawData.forEach((doc) => {\n                    var session= doc.data();\n                    session[\"id\"]= doc.id;\n                    session.room={name: \"Sin Asignar\", checkConcurrency: false};\n                    session.teacher={name: \"Sin Asignar\", checkConcurrency: false};\n\n                    batch.update(this.db.collection(\"sessions\").doc(session.id), session);\n                });\n            }            \n            batch.commit().then(() => {\n                this.loadingCallback(false);\n                callback();\n            }).catch(err=>{\n                this.errorCallback(err);\n            });   \n        }\n        catch(err){\n        };\n    }\n\n\n\n    updateSubjectName(subject, oldSubjectName, callback){\n        this.loadingCallback(true);\n\n        this.db.collection(\"sessions\").where(\"subjectName\", \"==\", oldSubjectName).get().then((querySnapshot) => {\n            \n            // Get a new write batch\n            var batch = this.db.batch();\n\n            subject.groups.forEach(group => {\n                group.subjectName= subject.subjectName;\n            });\n\n            // Set the value of subject\n            var subjectRef = this.db.collection(\"subjects\").doc(subject.id);\n            batch.set(subjectRef, subject);\n\n\n            querySnapshot.forEach((doc) => {\n                var sRef= this.db.collection(\"sessions\").doc(doc.id);\n                batch.update(sRef, {\"subjectName\": subject.subjectName});\n            });\n\n            batch.commit().then(() => {\n                this.loadingCallback(false);\n                callback();\n            }).catch(err=>{\n                this.errorCallback(err);\n            });\n        });\n\n    }\n\n    getSubjects(callback){\n        this.loadingCallback(false);\n        this.db.collection(\"subjects\").get().then((querySnapshot) => {\n            this.loadingCallback(false);\n            var data = [];\n            querySnapshot.forEach((doc) => {\n                var group= doc.data();\n                group[\"id\"]= doc.id;\n                data.push(group);\n            });\n            callback(data);\n        }).catch(err=>{\n            console.log(\"ERROR\");\n            console.log(err);\n            this.errorCallback(err);\n        });\n    }\n\n    createSubject(subject, callback){\n        subject.owner= this.getUser().email;\n        subject.groups=[];\n        this.db.collection(\"subjects\").doc(subject.subjectName).set(\n            subject\n        )\n        .then(() => {\n            callback();\n        })\n        .catch(err=>{\n            console.log(\"ERROR\");\n            console.log(err);\n            this.errorCallback(err);\n        });\n    }\n\n    async deleteSubject(subject, callback){\n        this.loadingCallback(true);\n        var batch = this.db.batch();\n\n        try{\n            var groups = subject.groups.map(g =>(g.groupName));\n            var sessions =[];\n            if (groups.length>0){\n                var rawData = await this.db.collection(\"sessions\").where(\"subjectName\", \"==\", subject.subjectName).where(\"groupName\", \"in\", groups).get();\n                rawData=rawData.docs;\n                rawData.forEach((doc) => {\n                    var session= doc.data();\n                    session[\"id\"]= doc.id;\n                    sessions.push(session);\n                });\n                this.deleteSessionsBatch(subject, sessions, batch);    \n            }\n\n            var subjectRef = this.db.collection('subjects').doc(subject.id);\n            batch.delete(subjectRef);\n            \n            batch.commit().then(() => {\n                this.loadingCallback(false);\n                callback();\n            }).catch(err=>{\n                this.errorCallback(err);\n            });   \n        }catch(err){\n            console.log(\"error delete subject: \" + err);\n        } \n    }\n\n    deleteGroup(subject, group, callback){\n        this.loadingCallback(true);\n        var batch = this.db.batch();\n\n        subject.groups= subject.groups.filter(g=>(g.groupName!==group.groupName));\n\n\n        this.db.collection(\"sessions\").where(\"subjectName\", \"==\", subject.subjectName).where(\"groupName\", \"==\", group.groupName).get().then((querySnapshot) => {\n            var sessions=[];\n            querySnapshot.forEach((doc) => {\n                var session= doc.data();\n                session[\"id\"]= doc.id;\n                sessions.push(session);\n            });\n            this.deleteSessionsBatch(subject, sessions, batch);\n            \n            batch.update(this.db.collection(\"subjects\").doc(subject.id), subject);\n\n            batch.commit().then(() => {\n                this.loadingCallback(false);\n                callback();\n            }).catch(err=>{\n                this.errorCallback(err);\n            });    \n        });\n    }\n\n    deleteSessionsBatch(subject, sessions, batch){\n        sessions.forEach(s=>{\n            this.deleteSessionBatch(s, subject.semester, batch);\n        });\n    }\n\n    async checkDisponibilityForSession(session, semester, callback){\n        this.loadingCallback(true);\n\n        try {\n            var rooms = await this.db.collection('roomsOcupancy').doc((parseInt(semester-1)%2 + 1) +\"-\"+session.day).get();\n            var teachers = await this.db.collection('teachersOcupancy').doc((parseInt(semester-1)%2 + 1) +\"-\"+session.day).get();\n\n            var timeBlocks= getTimeBlocksOfSession(session);\n\n            var teacherIsAvailable= true;\n            var roomIsAvailable= true;\n\n            rooms= rooms.data();\n            teachers = teachers.data();\n\n            if (session.teacher.checkConcurrency){\n                timeBlocks.forEach(tb =>{\n                    teacherIsAvailable = teacherIsAvailable && teachers[tb].includes(session.teacher.name);\n                });\n            }\n            if(session.room.checkConcurrency){\n                timeBlocks.forEach(tb =>{\n                    roomIsAvailable = roomIsAvailable && rooms[tb].includes(session.room.name);\n                });\n            }\n            var response = {\n                teacher: teacherIsAvailable,\n                room: roomIsAvailable\n            };\n            callback(response);\n            this.loadingCallback(false);\n        }\n        catch(err) {\n            callback({\n                teacher: false,\n                room: false\n            });\n            this.loadingCallback(false);\n            console.log('Error getting documents', err)\n        }\n        \n    }\n\n\n\n    initDB(){\n        var batch = this.db.batch();\n\n        var roomOcupancyRef= this.db.collection('roomsOcupancy');\n        var teachersOcupancyRef= this.db.collection('teachersOcupancy');\n        var ocupancy={};\n\n        var timeBlock;\n\n        ocupancy[\"concurrents\"]=[];\n        for (timeBlock = 1; timeBlock < 53; timeBlock++) {\n            ocupancy[timeBlock]= [];\n        }\n\n\n        var semester;\n        for (semester = 1; semester < 3; semester++) {\n            var day;\n            for (day = 1; day < 8; day++) {\n                batch.set(roomOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n                batch.set(teachersOcupancyRef.doc(semester+\"-\"+day), ocupancy);\n            }\n        } \n        \n        batch.commit().then(() => {\n        }).catch(err=>{\n        });   \n    }\n\n}\n","import Mock from './Mock';\nimport prodData from './prodData';\nimport testData from './testData';\n\nconst dataSources={\n    \"test\": Mock,\n    \"local\": testData,\n    \"dev\": prodData,\n    \"pro\": prodData\n} \n\n\nexport default class Repository{\n\n    constructor(loadingCallback, userIsLogged, env) {\n        this.user=null;\n        this.dataSource = new (this.getDataSource(env))(process.env.REACT_APP_BACKEND_BASE_URL, loadingCallback,  userIsLogged);\n    }\n\n    logOut(callback){\n        this.dataSource.logOut(callback);\n    }\n    auth(email, password, callback){\n        this.dataSource.auth(email,password,callback);\n    }\n\n    getUser(){\n        return this.dataSource.getUser();\n    }\n\n    getDataSource(env){\n        return env in dataSources? dataSources[env]: console.warn(\"NO DATA SOURCE\");\n    }\n\n    setLoadingCallback(callback){\n        this.dataSource.setLoadingCallback(callback);\n    }\n    setErrorCallback(callback){\n        this.dataSource.setErrorCallback(callback);\n    }\n\n    getSubjects(callback){\n        this.dataSource.getSubjects(callback);\n    }\n    getTeachers(callback){\n        this.dataSource.getTeachers(callback);\n    }\n    createTeacher(teacher, callback){\n        this.dataSource.createTeacher(teacher, callback);\n    }\n    deleteTeacher(teacher, callback){\n        this.dataSource.deleteTeacher(teacher, callback);\n    }\n    getAvailableTeachers(semester, day, timeBlocks, callback){\n        this.dataSource.getAvailableTeachers(semester, day, timeBlocks, callback);\n    }\n\n    getRooms(callback){\n        this.dataSource.getRooms(callback);\n    }\n\n    createRoom(room, callback){\n        this.dataSource.createRoom(room, callback);\n    }\n\n    deleteRoom(room, callback){\n        this.dataSource.deleteRoom(room, callback);\n    }\n\n    getAvailableRooms(semester, day, timeBlocks, callback){\n        this.dataSource.getAvailableRooms(semester, day, timeBlocks, callback);\n    }\n\n    loadTitles(callBack){\n        this.dataSource.loadTitles(callBack);\n    }\n    loadSubjectsOfTitle(title, callback){\n        this.dataSource.loadSubjectsOfTitle(title, callback);\n    }\n    loadSessionsOfSubjects(subjectNames, callback){\n        this.dataSource.loadSessionsOfSubjects(subjectNames, callback);\n    }\n\n    updateSession(session, callback, semester){\n        this.dataSource.updateSession(session, callback, semester);\n    }\n    createSession(session, callback, semester){\n        this.dataSource.createSession(session, callback, semester);\n    \n    }\n    deleteSession(session, callback, semester){\n        this.dataSource.deleteSession(session, callback, semester);\n    }\n\n    createSubject(subject, callback){\n        this.dataSource.createSubject(subject, callback);\n    \n    }\n    deleteSubject(subject, callback){\n        this.dataSource.deleteSubject(subject, callback);\n    }\n\n    deleteGroup(subject, group, callback){\n        this.dataSource.deleteGroup(subject, group, callback);\n    }\n\n    updateSubject(subject, callback, updatedSemester){\n        this.dataSource.updateSubject(subject, callback, updatedSemester);\n    }\n\n    loadSessionsOfSubjectGroup(subject, group, callback){\n        this.dataSource.getSessionsOfSubjectGroup(subject, group, callback);\n    }\n\n    updateSubjectName(subject, oldSubjectName, callback){\n        this.dataSource.updateSubjectName(subject, oldSubjectName, callback);\n    }\n\n    checkDisponibilityForSession(session, semester, callback){\n        this.dataSource.checkDisponibilityForSession(session, semester, callback);\n    }\n    createTitle(title, callback){\n        this.dataSource.createTitle(title, callback);\n    }\n    deleteTitle(title, callback){\n        this.dataSource.deleteTitle(title, callback);\n    }\n}","\n\nexport default class TestData{\n\n    constructor(baseurl, loadingCallback, userIsLogged) {\n        this.baseurl = baseurl;\n        this.loadingCallback= loadingCallback;\n        this.errorCallback={};\n        this.user=null;\n        this.userIsLogged= userIsLogged;\n      }\n      \n    logOut(callback){\n        this.user=null;\n        callback();\n    }\n    auth(email, password, callback){\n        this.user={email:email};\n        console.log(this.user);\n        this.userIsLogged(this.user.email);\n    }\n\n    getUser(){\n        return this.user;\n    }\n\n    setErrorCallback(callback){\n        this.errorCallback= callback;\n    }\n    getSessionById(id, callback){\n        this.loadingCallback(true);\n        console.log(\"http://20.86.179.242:4010/session/1\");\n        fetch('http://example.com/movies.json')\n        .then(response => response.json())\n        .then(data => console.log(data));\n        /*\n        fetch(\"http://20.86.179.242:4010/session/1\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result);\n            },\n            // Note: it's important to handle errors here\n            // instead of a catch() block so that we don't swallow\n            // exceptions from actual bugs in components.\n            (error) => {\n                console.log(\"error\");\n                console.log(error);\n                this.loadingCallback(false);\n                callback(null);\n            }\n        )\n        */\n    }\n\n    getRooms(callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"rooms\");\n        fetch(this.baseurl+\"rooms\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n    getTeachers(callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"teachers\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"teachers\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n    setLoadingCallback(callback){\n        this.loadingCallback= callback;\n    }\n\n\n    getSubjectsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"subjects\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"subjects\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n            // Note: it's important to handle errors here\n            // instead of a catch() block so that we don't swallow\n            // exceptions from actual bugs in components.\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return [];\n            }\n        )\n    }\n\n    createTeacher(teacher, callback){\n        callback();\n    }\n\n    async deleteTeacher(teacher, callback){\n        callback();\n    }\n\n    getAvailableTeachers(semester, day, timeBlocks, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"teachers\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"teachers\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                var format =[];\n                result.map(t=>(format.push({name: t.teacherName, checkConcurrency: t.checkConcurrency})));\n                this.loadingCallback(false);\n                callback(format); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n\n    getAvailableRooms(semester, day, timeBlocks, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"rooms\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"rooms\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                var format =[];\n                result.map(t=>(format.push({name: t.roomName, checkConcurrency: t.checkConcurrency})));\n                this.loadingCallback(false);\n                callback(format); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n    createRoom(room, callback){\n        callback();\n    }\n\n    async deleteRoom(room, callback){\n        callback();\n    }\n    \n    loadTitles(callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"titles\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"titles\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n            // Note: it's important to handle errors here\n            // instead of a catch() block so that we don't swallow\n            // exceptions from actual bugs in components.\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return [];\n            }\n        )    \n    }\n    createTitle(title, callback){\n        callback();\n    }\n\n    deleteTitle(title, callback){\n        callback();\n    }\n\n    loadSubjectsOfTitle(title, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"subjects\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"subjects\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n    loadSessionsOfSubjects(subjectNames, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"sessions\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"sessions\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n    getSessionsOfTeacher(teacher, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"sessions\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"sessions\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n    getSessionsOfSubjectGroup(subject, group, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"sessions\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"sessions\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )   \n     }\n    getSessionsOfRoom(room, callback){\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"sessions\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"sessions\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result); \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )    }\n\n    updateSession(session, callback, semester) {\n        callback();\n    }\n\n    createSession(session, callback, semester){\n        callback();\n    }\n\n\n    deleteSession(session, callback, semester){\n        callback();\n    }\n\n    async updateSubject(subject, callback, updatedSemester){\n        callback();\n    }\n\n\n\n    updateSubjectName(subject, oldSubjectName, callback){\n        callback();\n    }\n\n    getSubjects(callback){\n\n        this.loadingCallback(true);\n        console.log(this.baseurl+\"subjects\");\n        fetch(process.env.REACT_APP_BACKEND_BASE_URL+\"subjects\")\n        .then(res => res.json())\n        .then(\n            (result) => {\n                console.log(\"success\");\n                console.log(result);\n                this.loadingCallback(false);\n                callback(result);\n            \n            },\n\n            (error) => {\n                console.log(error);\n                this.loadingCallback(false);\n                return null;\n            }\n        )\n    }\n\n    createSubject(subject, callback){\n        callback();\n    }\n\n    async deleteSubject(subject, callback){\n        callback();\n    }\n\n    deleteGroup(subject, group, callback){\n        callback();\n    }\n\n    checkDisponibilityForSession(session, semester, callback){\n        \n        callback({\n            teacher: true,\n            room: true\n        });\n        \n    }\n\n}\n","import React from 'react';\nimport './App.css';\nimport Navbar from './components/NavBar';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Horario from './pages/Horario/Horario';\nimport Asignaturas from './pages/Asignaturas/Asignaturas';\nimport Aulas from './pages/Aulas/Aulas';\nimport Usuario from './pages/Usuario';\nimport Profesores from './pages/Profesores/Profesores';\nimport Titulaciones from './pages/Titulaciones/Titulaciones';\nimport Login from './pages/Login/Login';\n\nimport Repository from './repository/Repository';\nimport {RepositoryContext} from './context/RepositoryContext';\n\nimport { Redirect } from \"react-router-dom\";\n\n\nexport default class AppWrapper extends React.Component\n {\n  constructor(props){\n    super(props);\n    this.userIsLogged = this.userIsLogged.bind(this);\n    this.setLoading = this.setLoading.bind(this);\n\n    var env =  props.env? props.env: process.env.REACT_APP_ENVIROMENT.trimEnd();\n\n    this.state={\n      repository: new Repository(this.setLoading, this.userIsLogged, env),\n      email: \"\",\n      password: \"\",\n      loggedUser: false,\n      loading: false\n    };\n\n    this.logOut = this.logOut.bind(this);\n  }\n  setLoading(loading){\n    this.setState({loading: loading});\n  }\n  logOut(){\n    this.state.repository.logOut(()=>{this.userIsLogged(false)});\n  }\n  userIsLogged(isLogged){\n    this.setState({loggedUser: isLogged});\n  }\n\n  render(){\n  return (\n    <RepositoryContext.Provider value= {this.state.repository}>\n      <Router id=\"App\">\n        <Navbar hist={this.props.hist} loggedUser={this.state.loggedUser}/>\n          <Switch id=\"page-wrap\">\n          {\n            !this.state.loggedUser? \n            <Route path='/Login' render={()=><Login history={this.props.hist} loggedUser={this.state.loggedUser}/>}></Route>\n            :  \n            <React.Fragment>\n              <Route path='/Horario' render={()=><Horario/>}/>\n              <Route path='/Asignaturas' component={Asignaturas} />\n              <Route path='/Aulas' component={Aulas} />\n              <Route path='/Profesores' component={Profesores} />\n              <Route path='/Usuario' render={()=><Usuario loggedUser={this.state.loggedUser} logOut={this.logOut}/>} />\n              <Route path='/Titulaciones' component={Titulaciones} />  \n            </React.Fragment>\n          }\n          </Switch>\n          {\n            this.state.loggedUser? <Redirect to=\"/Horario\"/>:\n                                  <Redirect to=\"/Login\" />\n          }\n      </Router>\n    </RepositoryContext.Provider>\n  );\n  }\n\n }","import React from 'react';\nimport './App.css';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport AppWrapper from './AppWrapper';\n\nfunction App() {\n  let history = useHistory();\n  let env =  process.env.REACT_APP_ENVIROMENT.trimEnd();\n  return (\n    <AppWrapper hist={history} env={env}></AppWrapper>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nimport App from './App';\n\nconst name = 'Kiwi';\nconst element = <App name={name}/>;\nReactDOM.render(\n  element,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}